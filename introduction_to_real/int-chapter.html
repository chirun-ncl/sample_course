<!doctype html>
<html lang="en">
    <head>
        
            <meta charset="utf-8">
            <meta name="robots" content="noindex">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta name="author" content="Ann Example" />
            <meta name="date" content="2021-12-02" />
        

        <title>The Riemann Integral | Sample Course</title>

        
    
    
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../static/styles.css">
            <link rel="stylesheet" id="customiseCSS" href="../static/light.css">
            
            
        
    <link rel="stylesheet" id="customiseCodeCSS" href="../static/pygmentize.light.css">
    <link rel="stylesheet" href="../static/codemirror-5.26.0/lib/codemirror.css">
    <link rel="stylesheet" href="../static/boole.css">
    <link rel="stylesheet" href="../static/numbasEmbed.css">

    <link rel="stylesheet" href="../static/bootstrap-toc.css?v=3">
    <link rel="stylesheet" href="../static/print.css">


        
    
    
            <script defer src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
            <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
            <script defer src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
            <script defer src="../static/mathjax_config.js"></script>
            <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
            <script defer src="../static/customisation.js"></script>
            <script defer src="../static/mp4.js"></script>
            
            
        
    <script defer src="../static/jquery.flexibleArea.js"></script>
    <script defer src="../static/spin.min.js"></script>
    <script defer src="../static/codemirror-5.26.0/lib/codemirror.js"></script>
    <script defer src="../static/codemirror-5.26.0/mode/octave/octave.js"></script>
    <script defer src="../static/codemirror-5.26.0/mode/python/python.js"></script>
    <script defer src="../static/codemirror-5.26.0/mode/r/r.js"></script>
    <script defer src="../static/boole.js"></script>
    <script defer src="../static/numbasEmbed.js"></script>

    <script defer src="../static/bootstrap-toc.js"></script>

    </head>
    <body data-spy="scroll" data-target="#chapterTOC" data-offset="50">
        
<div class="collapse" id="navbarToggleCustomise">
	<div class="bg-secondary text-white p-3">
		<form onsubmit="return false;" id="navbarCustomise">
			<div class="form-row">
				<label>Theme Customisation</label>
				<div id="themeSelector" class="form-group col-md-12">
					<button class="btn btn-dark mr-2" value="dark">Dark</button>
					<button class="btn btn-pastel mr-2" value="pastel">Pastel</button>
					<button class="btn btn-light mr-4" value="light">Light</button>
				</div>
			</div>
			<div class="form-row">
				<div class="form-group col-md-4">
					<label style="display: block" for="font-scale">Font size (<span id="font-size-display">100%</span>)</label>
					<input type="range" class="form-control-range col-9 mr-2" id="font-scale" min="50" max="600" value="100">
					<button id="font-scale-reset" class="btn btn-sm">Reset</button>
				</div>
				<div class="form-group col-md-4">
					<label style="display: block" for="p-space">Spacing (<span id="p-space-display">100%</span>)</label>
					<input type="range" class="form-control-range col-9 mr-2" id="p-space" min="0" max="600" value="100">
					<button id="p-space-reset" class="btn btn-sm">Reset</button>
				</div>
			</div>
		</form>
	</div>
</div>

<nav aria-label="breadcrumb">
	<ul class="breadcrumb">
		<li class="breadcrumb-item">
			<a href="../index.html">Sample Course</a>
		</li>
		
		<li class="breadcrumb-item">
			<a href="../introduction_to_real/index.html">Introduction to Real Analysis</a>
		</li>
		
		<li class="breadcrumb-item active">
			The Riemann Integral
		</li>
		<li class="ml-auto">
			<button class="navbar-toggler p0" type="button" data-toggle="collapse" data-target="#navbarToggleCustomise" aria-controls="navbarToggleCustomise" aria-expanded="false" aria-label="Toggle customisations panel">
				<i class="fa fa-cog" aria-hidden="true" title="Toggle customisations panel"></i> <span class="sr-only">Toggle customisations panel</span>
			</button>
		</li>
	</ul>
</nav>


        <header>
            
            
        </header>
        <main>
            
    <div class="container mt-3">
        <div class="row">
            
            <div id="sidebar" class="col-md-3">
                <nav class="mb-3" id="chapterTOC" data-toggle="toc">
                    <ul class="nav navbar-nav">
                        
                        
                        
                        <li><a id="pdf-link" class="nav-link" href="../introduction_to_real/pdf/the_riemann_integral.pdf" target="_blank"><i class="fa fa-file-pdf-o" aria-hidden="true" title="Download as PDF"></i>&nbsp;Download as PDF</a></li>
                        
                    </ul>
                </nav>
            </div>
            <div id="content" class="col-md-9"> 
            
            <!-- Latex Chapter/Part -->
<h1 id="int:chapter">The Riemann Integral</h1>
<section class="section">
<h2 id="sec:rint">5.1 The Riemann integral</h2>
<p>
An integral is a way to “sum” the values of a function. There is often confusion among students of calculus between <em>integral</em> and <em>antiderivative</em>. The integral is (informally) the area under the curve, nothing else. That we can compute an antiderivative using the integral is a nontrivial result we have to prove. In this chapter we define the <em>Riemann integral</em><a class="footnote" href="#a0000000971">
<sup class="footnotemark">1</sup>
</a> using the Darboux integral<a class="footnote" href="#a0000000972">
<sup class="footnotemark">2</sup>
</a>, which is technically simpler than (but equivalent to) the traditional definition of Riemann. 
</p>
<section class="subsection">
<h3 id="a0000000973">5.1.1 Partitions and lower and upper integrals</h3>
<p>
We want to integrate a bounded function defined on an interval <script type="math/tex">[a,b]</script>. We first define two auxiliary integrals that are defined for all bounded functions. Only then can we talk about the Riemann integral and the Riemann integrable functions. 
</p>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000000974">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.1</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
A <em>partition</em> <script type="math/tex">P</script> of the interval <script type="math/tex">[a,b]</script> is a finite set of numbers <script type="math/tex">\{  x_0,x_1,x_2,\ldots ,x_ n \} </script> such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  a = x_0 < x_1 < x_2 < \cdots < x_{n-1} < x_ n = b . \end{equation*}</script></span>
<p>
 We write 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \Delta x_ i := x_ i - x_{i-1} . \end{equation*}</script></span>
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function. Let <script type="math/tex">P</script> be a partition of <script type="math/tex">[a,b]</script>. Define 
</p>
<span><script type="math/tex; mode=display">\begin{align*} &  m_ i := \inf \,  \bigl \{  f(x) : x_{i-1} \leq x \leq x_ i \bigr \}  , \\ &  M_ i := \sup \,  \bigl \{  f(x) : x_{i-1} \leq x \leq x_ i \bigr \}  , \\ &  L(P,f) := \sum _{i=1}^ n m_ i \Delta x_ i , \\ &  U(P,f) := \sum _{i=1}^ n M_ i \Delta x_ i . \end{align*}</script></span>
<p>
 We call <script type="math/tex">L(P,f)</script> the <em>lower Darboux sum</em> and <script type="math/tex">U(P,f)</script> the <em>upper Darboux sum</em><a id="a0000000975" name="a0000000975"></a>.   
</p>
</div>
</div>
</p>
<p>
The geometric idea of Darboux sums is indicated in <a href="#.">Figure <span>5.1</span></a>. The lower sum is the area of the shaded rectangles, and the upper sum is the area of the entire rectangles, shaded plus unshaded parts. The width of the <script type="math/tex">i</script>th rectangle is <script type="math/tex">\Delta x_ i</script>, the height of the shaded rectangle is <script type="math/tex">m_ i</script>, and the height of the entire rectangle is <script type="math/tex">M_ i</script>. 
</p>
<p>
<figure id="darbouxfig">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0083.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.1</span> <span class="caption_text">Sample Darboux sums.</span>
</figcaption>
</div>
</figure>
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="sumulbound:prop">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.2</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function. Let <script type="math/tex">m, M \in {\mathbb {R}}</script> be such that for all <script type="math/tex">x \in [a,b]</script>, we have <script type="math/tex">m \leq f(x) \leq M</script>. Then for every partition <script type="math/tex">P</script> of <script type="math/tex">[a,b]</script>, 
</p>
<div class="eqn" id="sumulbound:eq">
<script type="math/tex; mode=display">\begin{equation}\label{sumulbound:eq} m(b-a) \leq L(P,f) \leq U(P,f) \leq M(b-a) .\tag{5.1}\end{equation}</script>
</div>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000000976">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">P</script> be a partition. Note that <script type="math/tex">m \leq m_ i</script> for all <script type="math/tex">i</script> and <script type="math/tex">M_ i \leq M</script> for all <script type="math/tex">i</script>. Also <script type="math/tex">m_ i \leq M_ i</script> for all <script type="math/tex">i</script>. Finally, <script type="math/tex">\sum _{i=1}^ n \Delta x_ i = (b-a)</script>. Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{multline*}  m(b-a) = m \left( \sum _{i=1}^ n \Delta x_ i \right) = \sum _{i=1}^ n m \Delta x_ i \leq \sum _{i=1}^ n m_ i \Delta x_ i \leq \\ \leq \sum _{i=1}^ n M_ i \Delta x_ i \leq \sum _{i=1}^ n M \Delta x_ i = M \left( \sum _{i=1}^ n \Delta x_ i \right) = M(b-a) . \end{multline*}</script></span>
<p>
 Hence we get <a class="ref eqref" href="../introduction_to_real/int-chapter.html#sumulbound:eq">(5.1)</a>. In particular, the set of lower and upper sums are bounded sets. 
</p>
</div>
</div>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000000977">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.3</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
As the sets of lower and upper Darboux sums are bounded, we define 
</p>
<span><script type="math/tex; mode=display">\begin{align*} &  \underline{\int _a^b} f(x)~ dx := \sup \,  \bigl \{  L(P,f) : P \text{ a partition of } [a,b] \bigr \}  , \\ &  \overline{\int _ a^ b} f(x)~ dx := \inf \,  \bigl \{  U(P,f) : P \text{ a partition of } [a,b] \bigr \}  . \end{align*}</script></span>
<p>
 We call <script type="math/tex">\underline{\int }</script> the <em>lower Darboux integral</em> and <script type="math/tex">\overline{\int }</script> the <em>upper Darboux integral</em><a id="a0000000978" name="a0000000978"></a>. To avoid worrying about the variable of integration, we often simply write 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f := \underline{\int _a^b} f(x)~ dx \qquad \text{and} \qquad \overline{\int _ a^ b} f := \overline{\int _ a^ b} f(x)~ dx . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
If integration is to make sense, then the lower and upper Darboux integrals should be the same number, as we want a single number to call <em>the integral</em>. However, these two integrals may differ for some functions. 
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="example:dirichletfunc">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.4</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
 Take the Dirichlet function <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script>, where <script type="math/tex">f(x) := 1</script> if <script type="math/tex">x \in {\mathbb {Q}}</script> and <script type="math/tex">f(x) := 0</script> if <script type="math/tex">x \notin {\mathbb {Q}}</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _0^1} f = 0 \qquad \text{and} \qquad \overline{\int _0^1} f = 1 . \end{equation*}</script></span>
<p>
 The reason is that for every <script type="math/tex">i</script>, we have <script type="math/tex">m_ i = \inf \{  f(x) : x \in [x_{i-1},x_ i] \}  = 0</script> and <script type="math/tex">M_ i = \sup \{  f(x) : x \in [x_{i-1},x_ i] \}  = 1</script>. Thus 
</p>
<span><script type="math/tex; mode=display">\begin{align*} &  L(P,f) = \sum _{i=1}^ n 0 \cdot \Delta x_ i = 0 , \\ &  U(P,f) = \sum _{i=1}^ n 1 \cdot \Delta x_ i = \sum _{i=1}^ n \Delta x_ i = 1 . \end{align*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper remark_thmwrapper" id="a0000000979">
<div class="thmheading remark_thmheading">
<span class="thmcaption remark_thmcaption">
    Remark
    </span>
<span class="thmlabel remark_thmlabel">5.5</span>
</div>
<div class="thmcontent remark_thmcontent">
<p>
The same definition of <script type="math/tex">\underline{\int _a^b} f</script> and <script type="math/tex">\overline{\int _ a^ b} f</script> is used when <script type="math/tex">f</script> is defined on a larger set <script type="math/tex">S</script> such that <script type="math/tex">[a,b] \subset S</script>. In that case, we use the restriction of <script type="math/tex">f</script> to <script type="math/tex">[a,b]</script> and we must ensure that the restriction is bounded on <script type="math/tex">[a,b]</script>. 
</p>
</div>
</div>
</p>
<p>
To compute the integral, we often take a partition <script type="math/tex">P</script> and make it finer. That is, we cut intervals in the partition into yet smaller pieces. 
</p>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000000980">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.6</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
Let <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script> and <script type="math/tex">\widetilde{P} = \{  \widetilde{x}_0, \widetilde{x}_1, \ldots , \widetilde{x}_{\ell } \} </script> be partitions of <script type="math/tex">[a,b]</script>. We say <script type="math/tex">\widetilde{P}</script> is a <em>refinement</em><a id="a0000000981" name="a0000000981"></a> of <script type="math/tex">P</script> if as sets <script type="math/tex">P \subset \widetilde{P}</script>. 
</p>
</div>
</div>
</p>
<p>
That is, <script type="math/tex">\widetilde{P}</script> is a refinement of a partition if it contains all the numbers in <script type="math/tex">P</script> and perhaps some other numbers in between. For example, <script type="math/tex">\{  0, 0.5, 1, 2 \} </script> is a partition of <script type="math/tex">[0,2]</script> and <script type="math/tex">\{  0, 0.2, 0.5, 1, 1.5, 1.75, 2 \} </script> is a refinement. The main reason for introducing refinements is the following proposition. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="prop:refinement">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.7</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function, and let <script type="math/tex">P</script> be a partition of <script type="math/tex">[a,b]</script>. Let <script type="math/tex">\widetilde{P}</script> be a refinement of <script type="math/tex">P</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,f) \leq L(\widetilde{P},f) \qquad \text{and} \qquad U(\widetilde{P},f) \leq U(P,f) . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000000982">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
The tricky part of this proof is to get the notation correct. Let <script type="math/tex">\widetilde{P} = \{  \widetilde{x}_0, \widetilde{x}_1, \ldots , \widetilde{x}_{\ell } \} </script> be a refinement of <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script>. Then <script type="math/tex">x_0 = \widetilde{x}_0</script> and <script type="math/tex">x_ n = \widetilde{x}_{\ell }</script>. In fact, there are integers <script type="math/tex">k_0 < k_1 < \cdots < k_ n</script> such that <script type="math/tex">x_ j = \widetilde{x}_{k_ j}</script> for <script type="math/tex">j=0,1,2,\ldots ,n</script>. 
</p>
<p>
Let <script type="math/tex">\Delta \widetilde{x}_ p := \widetilde{x}_ p - \widetilde{x}_{p-1}</script>. See <a href="#.">Figure <span>5.2</span></a>. We get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \Delta x_ j = x_ j - x_{j-1} = \widetilde{x}_{k_ j} - \widetilde{x}_{k_{j-1}} = \sum _{p=k_{j-1}+1}^{k_ j} \widetilde{x}_{p} - \widetilde{x}_{p-1} = \sum _{p=k_{j-1}+1}^{k_ j} \Delta \widetilde{x}_ p . \end{equation*}</script></span>
<p>
<figure id="fig:refinement">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0085.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.2</span> <span class="caption_text">Refinement of a subinterval. Notice <script type="math/tex">\Delta x_ j = \Delta \widetilde{x}_{p-2} + \Delta \widetilde{x}_{p-1} + \Delta \widetilde{x}_{p}</script>, and also <script type="math/tex">k_{j-1}+1 = p-2</script> and <script type="math/tex">k_{j} = p</script>.</span>
</figcaption>
</div>
</figure>
</p>
<p>
Let <script type="math/tex">m_ j</script> be as before and correspond to the partition <script type="math/tex">P</script>. Let <script type="math/tex">\widetilde{m}_ j := \inf \{  f(x) : \widetilde{x}_{j-1} \leq x \leq \widetilde{x}_ j \} </script>. Now, <script type="math/tex">m_ j \leq \widetilde{m}_ p</script> for <script type="math/tex">k_{j-1} < p \leq k_ j</script>. Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m_ j \Delta x_ j = m_ j \sum _{p=k_{j-1}+1}^{k_ j} \Delta \widetilde{x}_ p = \sum _{p=k_{j-1}+1}^{k_ j} m_ j \Delta \widetilde{x}_ p \leq \sum _{p=k_{j-1}+1}^{k_ j} \widetilde{m}_ p \Delta \widetilde{x}_ p . \end{equation*}</script></span>
<p>
 So 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,f) = \sum _{j=1}^ n m_ j \Delta x_ j \leq \sum _{j=1}^ n \,  \sum _{p=k_{j-1}+1}^{k_ j} \widetilde{m}_ p \Delta \widetilde{x}_ p = \sum _{j=1}^{\ell } \widetilde{m}_ j \Delta \widetilde{x}_ j = L(\widetilde{P},f). \end{equation*}</script></span>
<p>
The proof of <script type="math/tex">U(\widetilde{P},f) \leq U(P,f)</script> is left as an exercise. 
</p>
</div>
</div>
<p>
Armed with refinements we prove the following. The key point of this next proposition is that the lower Darboux integral is less than or equal to the upper Darboux integral. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="intulbound:prop">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.8</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function. Let <script type="math/tex">m, M \in {\mathbb {R}}</script> be such that for all <script type="math/tex">x \in [a,b]</script>, we have <script type="math/tex">m \leq f(x) \leq M</script>. Then 
</p>
<div class="eqn" id="intulbound:eq">
<script type="math/tex; mode=display">\begin{equation}\label{intulbound:eq} m(b-a) \leq \underline{\int _a^b} f \leq \overline{\int _ a^ b} f \leq M(b-a) .\tag{5.2}\end{equation}</script>
</div>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000000983">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
By <a href="#.">Proposition <span>5.2</span></a>, for every partition <script type="math/tex">P</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m(b-a) \leq L(P,f) \leq U(P,f) \leq M(b-a). \end{equation*}</script></span>
<p>
 The inequality <script type="math/tex">m(b-a) \leq L(P,f)</script> implies <script type="math/tex">m(b-a) \leq \underline{\int _a^b} f</script>. The inequality <script type="math/tex">U(P,f) \leq M(b-a)</script> implies <script type="math/tex">\overline{\int _ a^ b} f \leq M(b-a)</script>. 
</p>
<p>
The middle inequality in <a class="ref eqref" href="../introduction_to_real/int-chapter.html#intulbound:eq">(5.2)</a> is the main point of this proposition. Let <script type="math/tex">P_1, P_2</script> be partitions of <script type="math/tex">[a,b]</script>. Define <script type="math/tex">\widetilde{P} := P_1 \cup P_2</script>. The set <script type="math/tex">\widetilde{P}</script> is a partition of <script type="math/tex">[a,b]</script>, which is a refinement of <script type="math/tex">P_1</script> and a refinement of <script type="math/tex">P_2</script>. By <a href="#.">Proposition <span>5.7</span></a>, <script type="math/tex">L(P_1,f) \leq L(\widetilde{P},f)</script> and <script type="math/tex">U(\widetilde{P},f) \leq U(P_2,f)</script>. So 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P_1,f) \leq L(\widetilde{P},f) \leq U(\widetilde{P},f) \leq U(P_2,f) . \end{equation*}</script></span>
<p>
 In other words, for two arbitrary partitions <script type="math/tex">P_1</script> and <script type="math/tex">P_2</script>, we have <script type="math/tex">L(P_1,f) \leq U(P_2,f)</script>. Recall <a href="#.">Proposition <span>1.18</span></a>, and take the supremum and infimum over all partitions: 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f = \sup \,  \bigl \{  L(P,f) : P \text{ a partition of } [a,b] \bigr \}  \leq \inf \,  \bigl \{  U(P,f) : P \text{ a partition of } [a,b] \bigr \}  = \overline{\int _ a^ b} f . \qedhere \end{equation*}</script></span>
</div>
</div>
</section><section class="subsection">
<h3 id="a0000000984">5.1.2 Riemann integral</h3>
<p>
We can finally define the Riemann integral. However, the Riemann integral is only defined on a certain class of functions, called the Riemann integrable functions. 
</p>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000000985">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.9</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f(x)~ dx = \overline{\int _ a^ b} f(x)~ dx . \end{equation*}</script></span>
<p>
 Then <script type="math/tex">f</script> is said to be <em>Riemann integrable</em>. The set of Riemann integrable functions on <script type="math/tex">[a,b]</script> is denoted by <script type="math/tex">{\mathcal{R}}[a,b]</script>. When <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>, we define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f(x)~ dx := \underline{\int _a^b} f(x)~ dx = \overline{\int _ a^ b} f(x)~ dx . \end{equation*}</script></span>
<p>
 As before, we often write 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f := \int _ a^ b f(x)~ dx. \end{equation*}</script></span>
<p>
 The number <script type="math/tex">\int _ a^ b f</script> is called the <em>Riemann integral</em> of <script type="math/tex">f</script>, or sometimes simply the <em>integral</em> of <script type="math/tex">f</script>. 
</p>
</div>
</div>
</p>
<p>
By definition, a Riemann integrable function is bounded. Appealing to <a href="#.">Proposition <span>5.8</span></a>, we immediately obtain the following proposition. See also <a href="#.">Figure <span>5.3</span></a>. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="intbound:prop">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.10</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a Riemann integrable function. Let <script type="math/tex">m, M \in {\mathbb {R}}</script> be such that <script type="math/tex">m \leq f(x) \leq M</script> for all <script type="math/tex">x \in [a,b]</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m(b-a) \leq \int _ a^ b f \leq M(b-a) . \end{equation*}</script></span>
</div>
</div> <figure id="fig:integralminmax">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0087.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.3</span> <span class="caption_text">The area under the curve is bounded from above by the area of the entire rectangle, <script type="math/tex">M(b-a)</script>, and from below by the area of the shaded part, <script type="math/tex">m(b-a)</script>.</span>
</figcaption>
</div>
</figure>
</p>
<p>
Often we use a weaker form of this proposition. That is, if <script type="math/tex">\left\lvert {f(x)} \right\rvert  \leq M</script> for all <script type="math/tex">x \in [a,b]</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\int _ a^ b f} \right\rvert  \leq M(b-a) . \end{equation*}</script></span>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000000986">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.11</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
We integrate constant functions using <a href="#.">Proposition <span>5.8</span></a>. If <script type="math/tex">f(x) := c</script> for some constant <script type="math/tex">c</script>, then we take <script type="math/tex">m = M = c</script>. In inequality <a class="ref eqref" href="../introduction_to_real/int-chapter.html#intulbound:eq">(5.2)</a> all the inequalities must be equalities. Thus <script type="math/tex">f</script> is integrable on <script type="math/tex">[a,b]</script> and <script type="math/tex">\int _ a^ b f = c(b-a)</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000000987">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.12</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
Let <script type="math/tex">f \colon [0,2] \to {\mathbb {R}}</script> be defined by 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) := \begin{cases}  1 &  \text{if } x < 1,\\ \frac{1}{2} &  \text{if } x = 1,\\ 0 &  \text{if } x > 1. \end{cases}\end{equation*}</script></span>
<p>
 We claim <script type="math/tex">f</script> is Riemann integrable and <script type="math/tex">\int _0^2 f = 1</script>. 
</p>
<p>
Proof: Let <script type="math/tex">0 < \epsilon < 1</script> be arbitrary. Let <script type="math/tex">P := \{ 0, 1-\epsilon , 1+\epsilon , 2\} </script> be a partition. We use the notation from the definition of the Darboux sums. Then 
</p>
<span><script type="math/tex; mode=display">\begin{align*}  m_1 & = \inf \,  \bigl \{  f(x) : x \in [0,1-\epsilon ] \bigr \}  = 1 , &  M_1 & = \sup \,  \bigl \{  f(x) : x \in [0,1-\epsilon ] \bigr \}  = 1 , \\ m_2 & = \inf \,  \bigl \{  f(x) : x \in [1-\epsilon ,1+\epsilon ] \bigr \}  = 0 , &  M_2 & = \sup \,  \bigl \{  f(x) : x \in [1-\epsilon ,1+\epsilon ] \bigr \}  = 1 , \\ m_3 & = \inf \,  \bigl \{  f(x) : x \in [1+\epsilon ,2] \bigr \}  = 0 , &  M_3 & = \sup \,  \bigl \{  f(x) : x \in [1+\epsilon ,2] \bigr \}  = 0 . \end{align*}</script></span>
<p>
 Furthermore, <script type="math/tex">\Delta x_1 = 1-\epsilon </script>, <script type="math/tex">\Delta x_2 = 2\epsilon </script> and <script type="math/tex">\Delta x_3 = 1-\epsilon </script>. See <a href="#.">Figure <span>5.4</span></a>. <figure id="darbouxfigstep">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0089.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.4</span> <span class="caption_text">Darboux sums for the step function. <script type="math/tex">L(P,f)</script> is the area of the shaded rectangle, <script type="math/tex">U(P,f)</script> is the area of both rectangles, and <script type="math/tex">U(P,f)-L(P,f)</script> is the area of the unshaded rectangle.</span>
</figcaption>
</div>
</figure>
</p>
<p>
We compute 
</p>
<span><script type="math/tex; mode=display">\begin{align*} &  L(P,f) = \sum _{i=1}^3 m_ i \Delta x_ i = 1 \cdot (1-\epsilon ) + 0 \cdot 2\epsilon + 0 \cdot (1-\epsilon ) = 1-\epsilon , \\ &  U(P,f) = \sum _{i=1}^3 M_ i \Delta x_ i = 1 \cdot (1-\epsilon ) + 1 \cdot 2\epsilon + 0 \cdot (1-\epsilon ) = 1+\epsilon . \end{align*}</script></span>
<p>
 Thus, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _0^2} f - \underline{\int _0^2} f \leq U(P,f) - L(P,f) = (1+\epsilon ) - (1-\epsilon ) = 2 \epsilon . \end{equation*}</script></span>
<p>
 By <a href="#.">Proposition <span>5.8</span></a>, we have <script type="math/tex">\underline{\int _0^2} f \leq \overline{\int _0^2} f</script>. As <script type="math/tex">\epsilon </script> was arbitrary, <script type="math/tex">\overline{\int _0^2} f = \underline{\int _0^2} f</script>. So <script type="math/tex">f</script> is Riemann integrable. Finally, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  1-\epsilon = L(P,f) \leq \int _0^2 f \leq U(P,f) = 1+\epsilon . \end{equation*}</script></span>
<p>
 Hence, <script type="math/tex">\bigl \lvert \int _0^2 f - 1 \bigr \rvert \leq \epsilon </script>. As <script type="math/tex">\epsilon </script> was arbitrary, we conclude <script type="math/tex">\int _0^2 f = 1</script>. 
</p>
</div>
</div>
</p>
<p>
It may be worthwhile to extract part of the technique of the example into a proposition. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000000988">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.13</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function. Then <script type="math/tex">f</script> is Riemann integrable if for every <script type="math/tex">\epsilon > 0</script>, there exists a partition <script type="math/tex">P</script> of <script type="math/tex">[a,b]</script> such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  U(P,f) - L(P,f) < \epsilon . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000000989">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
If for every <script type="math/tex">\epsilon > 0</script> such a <script type="math/tex">P</script> exists, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  0 \leq \overline{\int _ a^ b} f - \underline{\int _a^b} f \leq U(P,f) - L(P,f) < \epsilon . \end{equation*}</script></span>
<p>
 Therefore, <script type="math/tex">\overline{\int _ a^ b} f = \underline{\int _a^b} f</script>, and <script type="math/tex">f</script> is integrable. 
</p>
</div>
</div>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000000990">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.14</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
Let us show <script type="math/tex">\frac{1}{1+x}</script> is integrable on <script type="math/tex">[0,b]</script> for all <script type="math/tex">b > 0</script>. We will see later that continuous functions are integrable, but let us demonstrate how we do it directly. 
</p>
<p>
Let <script type="math/tex">\epsilon > 0</script> be given. Take <script type="math/tex">n \in {\mathbb {N}}</script> and pick <script type="math/tex">x_ j := \frac{jb}{n}</script>, to form the partition <script type="math/tex">P := \{  x_0,x_1,\ldots ,x_ n \} </script> of <script type="math/tex">[0,b]</script>. We have <script type="math/tex">\Delta x_ j = \frac{b}{n}</script> for all <script type="math/tex">j</script>. As <script type="math/tex">f</script> is decreasing, for every subinterval <script type="math/tex">[x_{j-1},x_ j]</script>, we obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m_ j = \inf \left\{  \frac{1}{1+x} : x \in [x_{j-1},x_ j] \right\}  = \frac{1}{1+x_ j} , \qquad M_ j = \sup \left\{  \frac{1}{1+x} : x \in [x_{j-1},x_ j] \right\}  = \frac{1}{1+x_{j-1}} . \end{equation*}</script></span>
<p>
 Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{multline*}  U(P,f)-L(P,f) = \sum _{j=1}^ n \Delta x_ j (M_ j-m_ j) = \frac{b}{n} \sum _{j=1}^ n \left( \frac{1}{1+\frac{(j-1)b}{n}} - \frac{1}{1+\frac{jb}{n}} \right) = \\ = \frac{b}{n} \left( \frac{1}{1+\frac{0b}{n}} - \frac{1}{1+\frac{nb}{n}} \right) = \frac{b^2}{n(b+1)} . \end{multline*}</script></span>
<p>
 The sum telescopes, the terms successively cancel each other, something we have seen before. Picking <script type="math/tex">n</script> to be such that <script type="math/tex">\frac{b^2}{n(b+1)} < \epsilon </script>, the proposition is satisfied, and the function is integrable. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper remark_thmwrapper" id="a0000000991">
<div class="thmheading remark_thmheading">
<span class="thmcaption remark_thmcaption">
    Remark
    </span>
<span class="thmlabel remark_thmlabel">5.15</span>
</div>
<div class="thmcontent remark_thmcontent">
<p>
A way of thinking of the integral is that it adds up (integrates) lots of local information—it sums <script type="math/tex">f(x)~ dx</script> over all <script type="math/tex">x</script>. The integral sign was chosen by Leibniz to be the long S to mean summation. Unlike derivatives, which are “local,” integrals show up in applications when one wants a “global” answer: total distance travelled, average temperature, total charge, etc. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000000992">5.1.3 More notation</h3>
<p>
When <script type="math/tex">f \colon S \to {\mathbb {R}}</script> is defined on a larger set <script type="math/tex">S</script> and <script type="math/tex">[a,b] \subset S</script>, we say <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script> if the restriction of <script type="math/tex">f</script> to <script type="math/tex">[a,b]</script> is Riemann integrable. In this case, we say <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>, and we write <script type="math/tex">\int _ a^ b f</script> to mean the Riemann integral of the restriction of <script type="math/tex">f</script> to <script type="math/tex">[a,b]</script>. 
</p>
<p>
It is useful to define the integral <script type="math/tex">\int _ a^ b f</script> even if <script type="math/tex">a \not< b</script>. Suppose <script type="math/tex">b < a</script> and <script type="math/tex">f \in {\mathcal{R}}[b,a]</script>, then define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f := - \int _ b^ a f . \end{equation*}</script></span>
<p>
 For any function <script type="math/tex">f</script>, define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ a f := 0 . \end{equation*}</script></span>
<p>
At times, the variable <script type="math/tex">x</script> may already have some other meaning. When we need to write down the variable of integration, we may simply use a different letter. For example, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f(s)~ ds := \int _ a^ b f(x)~ dx . \end{equation*}</script></span>
</section><section class="subsection">
<h3 id="a0000000993">5.1.4 Exercises</h3>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000994">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.1</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Define <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> by <script type="math/tex">f(x) := x^3</script> and let <script type="math/tex">P := \{  0, 0.1, 0.4, 1 \} </script>. Compute <script type="math/tex">L(P,f)</script> and <script type="math/tex">U(P,f)</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000995">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.2</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> be defined by <script type="math/tex">f(x) := x</script>. Show that <script type="math/tex">f \in {\mathcal{R}}[0,1]</script> and compute <script type="math/tex">\int _0^1 f</script> using the definition of the integral (but feel free to use the propositions of this section).
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000996">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.3</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function. Suppose there exists a sequence of partitions <script type="math/tex">\{  P_ k \} </script> of <script type="math/tex">[a,b]</script> such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{k \to \infty } \bigl ( U(P_ k,f) - L(P_ k,f) \bigr ) = 0 . \end{equation*}</script></span>
<p>
 Show that <script type="math/tex">f</script> is Riemann integrable and that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f = \lim _{k \to \infty } U(P_ k,f) = \lim _{k \to \infty } L(P_ k,f) . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000997">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.4</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Finish the proof of <a href="#.">Proposition <span>5.7</span></a>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000998">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.5</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [-1,1] \to {\mathbb {R}}</script> is defined as 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) := \begin{cases}  1 &  \text{if } x > 0, \\ 0 &  \text{if } x \leq 0. \end{cases}\end{equation*}</script></span>
<p>
 Prove that <script type="math/tex">f \in {\mathcal{R}}[-1,1]</script> and compute <script type="math/tex">\int _{-1}^1 f</script> using the definition of the integral (but feel free to use the propositions of this section). 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000000999">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.6</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">c \in (a,b)</script> and let <script type="math/tex">d \in {\mathbb {R}}</script>. Define <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> as 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) := \begin{cases}  d &  \text{if } x = c, \\ 0 &  \text{if } x \not= c. \end{cases}\end{equation*}</script></span>
<p>
 Prove that <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> and compute <script type="math/tex">\int _ a^ b f</script> using the definition of the integral (but feel free to use the propositions of this section). 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:taggedpartition">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.7</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is Riemann integrable. Let <script type="math/tex">\epsilon > 0</script> be given. Then show that there exists a partition <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script> such that for every set of numbers <script type="math/tex">\{  c_1, c_2, \ldots , c_ n \} </script> with <script type="math/tex">c_ k \in [x_{k-1},x_ k]</script> for all <script type="math/tex">k</script>, we have 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\int _ a^ b f - \sum _{k=1}^ n f(c_ k) \Delta x_ k} \right\rvert  < \epsilon . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001000">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.8</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a Riemann integrable function. Let <script type="math/tex">\alpha > 0</script> and <script type="math/tex">\beta \in {\mathbb {R}}</script>. Then define <script type="math/tex">g(x) := f(\alpha x + \beta )</script> on the interval <script type="math/tex">I = [\frac{a-\beta }{\alpha }, \frac{b-\beta }{\alpha }]</script>. Show that <script type="math/tex">g</script> is Riemann integrable on <script type="math/tex">I</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001001">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.9</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [0,1] \to {\mathbb {R}}</script> are such that for all <script type="math/tex">x \in (0,1]</script>, we have <script type="math/tex">f(x) = g(x)</script>. Suppose <script type="math/tex">f</script> is Riemann integrable. Prove <script type="math/tex">g</script> is Riemann integrable and <script type="math/tex">\int _{0}^1 f = \int _{0}^1 g</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001002">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.10</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> be a bounded function. Let <script type="math/tex">P_ n = \{  x_0,x_1,\ldots ,x_ n \} </script> be a uniform partition of <script type="math/tex">[0,1]</script>, that is, <script type="math/tex">x_ j = \frac{j}{n}</script>. Is <script type="math/tex">\{  L(P_ n,f) \} _{n=1}^\infty </script> always monotone? Yes/No: Prove or find a counterexample. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001003">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.11</span>
<span class="thmtitle exercise_thmtitle">(Challenging)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 For a bounded function <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script>, let <script type="math/tex">R_ n := (\frac{1}{n})\sum _{j=1}^ n f(\frac{j}{n})</script> (the uniform right-hand rule). 
</p>
<ol class="enumerate" id="a0000001004" style="list-style: none">
<li id="a0000001005" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
If <script type="math/tex">f</script> is Riemann integrable show <script type="math/tex">\int _0^1 f = \lim \,  R_ n</script>. 
</p>
</li>
<li id="a0000001006" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Find an <script type="math/tex">f</script> that is not Riemann integrable, but <script type="math/tex">\lim \,  R_ n</script> exists. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:riemannintdarboux">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.12</span>
<span class="thmtitle exercise_thmtitle">(Challenging)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
  Generalize the previous exercise. Show that <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> if and only if there exists an <script type="math/tex">I \in {\mathbb {R}}</script>, such that for every <script type="math/tex">\epsilon > 0</script> there exists a <script type="math/tex">\delta > 0</script> such that if <script type="math/tex">P</script> is a partition with <script type="math/tex">\Delta x_ i < \delta </script> for all <script type="math/tex">i</script>, then <script type="math/tex">\left\lvert {L(P,f) - I} \right\rvert  < \epsilon </script> and <script type="math/tex">\left\lvert {U(P,f) - I} \right\rvert  < \epsilon </script>. If <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>, then <script type="math/tex">I = \int _ a^ b f</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001007">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.13</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Using <a href="#.">Exercise <span>5.12</span></a> and the idea of the proof in <a href="#.">Exercise <span>5.7</span></a>, show that Darboux integral is the same as the standard definition of Riemann integral, which you have most likely seen in calculus. That is, show that <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> if and only if there exists an <script type="math/tex">I \in {\mathbb {R}}</script>, such that for every <script type="math/tex">\epsilon > 0</script> there exists a <script type="math/tex">\delta > 0</script> such that if <script type="math/tex">P = \{  x_0,x_1,\ldots ,x_ n \} </script> is a partition with <script type="math/tex">\Delta x_ i < \delta </script> for all <script type="math/tex">i</script>, then <script type="math/tex">\left\lvert {\sum _{i=1}^ n f(c_ i) \Delta x_ i - I} \right\rvert  < \epsilon </script> for every set <script type="math/tex">\{  c_1,c_2,\ldots ,c_ n \} </script> with <script type="math/tex">c_ i \in [x_{i-1},x_ i]</script>. If <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>, then <script type="math/tex">I = \int _ a^ b f</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001008">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.14</span>
<span class="thmtitle exercise_thmtitle">(Challenging)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Construct functions <script type="math/tex">f</script> and <script type="math/tex">g</script>, where <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> is Riemann integrable, <script type="math/tex">g \colon [0,1] \to [0,1]</script> is one-to-one and onto, and such that the composition <script type="math/tex">f \circ g</script> is not Riemann integrable. 
</p>
</div>
</div>
</p>
<p>
<br/>
</p>
</section>
</section><section class="section">
<h2 id="sec:rintprop">5.2 Properties of the integral</h2>
<section class="subsection">
<h3 id="a0000001009">5.2.1 Additivity</h3>
<p>
Adding a bunch of things in two parts and then adding those two parts should be the same as adding everything all at once. The corresponding property for integral is called the additive property of the integral. First, we prove the additivity property for the lower and upper Darboux integrals. 
</p>
<p>
<div class="thmwrapper lemma_thmwrapper" id="lemma:darbouxadd">
<div class="thmheading lemma_thmheading">
<span class="thmcaption lemma_thmcaption">
    Lemma
    </span>
<span class="thmlabel lemma_thmlabel">5.16</span>
</div>
<div class="thmcontent lemma_thmcontent">
<p>
 Suppose <script type="math/tex">a < b < c</script> and <script type="math/tex">f \colon [a,c] \to {\mathbb {R}}</script> is a bounded function. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^c} f = \underline{\int _a^b} f + \underline{\int _b^c} f \end{equation*}</script></span>
<p>
 and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ c} f = \overline{\int _ a^ b} f + \overline{\int _ b^ c} f . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001010">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
If we have partitions <script type="math/tex">P_1 = \{  x_0,x_1,\ldots ,x_ k \} </script> of <script type="math/tex">[a,b]</script> and <script type="math/tex">P_2 = \{  x_ k, x_{k+1}, \ldots , x_ n \} </script> of <script type="math/tex">[b,c]</script>, then the set <script type="math/tex">P := P_1 \cup P_2 = \{  x_0, x_1, \ldots , x_ n \} </script> is a partition of <script type="math/tex">[a,c]</script>. We find 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,f) = \sum _{j=1}^ n m_ j \Delta x_ j = \sum _{j=1}^ k m_ j \Delta x_ j + \sum _{j=k+1}^ n m_ j \Delta x_ j = L(P_1,f) + L(P_2,f) . \end{equation*}</script></span>
<p>
 When we take the supremum of the right-hand side over all <script type="math/tex">P_1</script> and <script type="math/tex">P_2</script>, we are taking a supremum of the left-hand side over all partitions <script type="math/tex">P</script> of <script type="math/tex">[a,c]</script> that contain <script type="math/tex">b</script>. If <script type="math/tex">Q</script> is a partition of <script type="math/tex">[a,c]</script> and <script type="math/tex">P = Q \cup \{  b \} </script>, then <script type="math/tex">P</script> is a refinement of <script type="math/tex">Q</script> and so <script type="math/tex">L(Q,f) \leq L(P,f)</script>. Therefore, taking a supremum only over the <script type="math/tex">P</script> that contain <script type="math/tex">b</script> is sufficient to find the supremum of <script type="math/tex">L(P,f)</script> over all partitions <script type="math/tex">P</script>, see <a href="#.">Exercise <span>1.9</span></a>. Finally, recall <a href="#.">Exercise <span>1.23</span></a> to compute 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \underline{\int _a^c} f &  = \sup \,  \bigl \{  L(P,f) : P \text{ a partition of } [a,c] \bigr \}  \\ &  = \sup \,  \bigl \{  L(P,f) : P \text{ a partition of } [a,c], b \in P \bigr \}  \\ &  = \sup \,  \bigl \{  L(P_1,f) + L(P_2,f) : P_1 \text{ a partition of } [a,b], P_2 \text{ a partition of } [b,c] \bigr \}  \\ &  = \sup \,  \bigl \{  L(P_1,f) : P_1 \text{ a partition of } [a,b] \bigr \}  + \sup \,  \bigl \{  L(P_2,f) : P_2 \text{ a partition of } [b,c] \bigr \}  \\ & = \underline{\int _a^b} f + \underline{\int _b^c} f . \end{split}\end{equation*}</script></span>
<p>
Similarly, for <script type="math/tex">P</script>, <script type="math/tex">P_1</script>, and <script type="math/tex">P_2</script> as above, we obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  U(P,f) = \sum _{j=1}^ n M_ j \Delta x_ j = \sum _{j=1}^ k M_ j \Delta x_ j + \sum _{j=k+1}^ n M_ j \Delta x_ j = U(P_1,f) + U(P_2,f) . \end{equation*}</script></span>
<p>
 We wish to take the infimum on the right over all <script type="math/tex">P_1</script> and <script type="math/tex">P_2</script>, and so we are taking the infimum over all partitions <script type="math/tex">P</script> of <script type="math/tex">[a,c]</script> that contain <script type="math/tex">b</script>. If <script type="math/tex">Q</script> is a partition of <script type="math/tex">[a,c]</script> and <script type="math/tex">P = Q \cup \{  b \} </script>, then <script type="math/tex">P</script> is a refinement of <script type="math/tex">Q</script> and so <script type="math/tex">U(Q,f) \geq U(P,f)</script>. Therefore, taking an infimum only over the <script type="math/tex">P</script> that contain <script type="math/tex">b</script> is sufficient to find the infimum of <script type="math/tex">U(P,f)</script> for all <script type="math/tex">P</script>. We obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ c} f = \overline{\int _ a^ b} f + \overline{\int _ b^ c} f . \qedhere \end{equation*}</script></span>
</div>
</div>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001011">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.17</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
Let <script type="math/tex">a < b < c</script>. A function <script type="math/tex">f \colon [a,c] \to {\mathbb {R}}</script> is Riemann integrable if and only if <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script> and <script type="math/tex">[b,c]</script>. If <script type="math/tex">f</script> is Riemann integrable, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ c f = \int _ a^ b f + \int _ b^ c f . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001012">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Suppose <script type="math/tex">f \in {\mathcal{R}}[a,c]</script>, then <script type="math/tex">\overline{\int _ a^ c} f = \underline{\int _a^c} f = \int _ a^ c f</script>. We apply the lemma to get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ c f = \underline{\int _a^c} f = \underline{\int _a^b} f + \underline{\int _b^c} f \leq \overline{\int _ a^ b} f + \overline{\int _ b^ c} f = \overline{\int _ a^ c} f = \int _ a^ c f . \end{equation*}</script></span>
<p>
 Thus the inequality is an equality, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f + \underline{\int _b^c} f = \overline{\int _ a^ b} f + \overline{\int _ b^ c} f . \end{equation*}</script></span>
<p>
 As we also know <script type="math/tex">\underline{\int _a^b} f \leq \overline{\int _ a^ b} f</script> and <script type="math/tex">\underline{\int _b^c} f \leq \overline{\int _ b^ c} f</script>, we conclude 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f = \overline{\int _ a^ b} f \qquad \text{and} \qquad \underline{\int _b^c} f = \overline{\int _ b^ c} f . \end{equation*}</script></span>
<p>
 Thus <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script> and <script type="math/tex">[b,c]</script> and the desired formula holds. 
</p>
<p>
Now assume <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script> and on <script type="math/tex">[b,c]</script>. Again apply the lemma to get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^c} f = \underline{\int _a^b} f + \underline{\int _b^c} f = \int _ a^ b f + \int _ b^ c f = \overline{\int _ a^ b} f + \overline{\int _ b^ c} f = \overline{\int _ a^ c} f . \end{equation*}</script></span>
<p>
 Therefore, <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,c]</script>, and the integral is computed as indicated. 
</p>
</div>
</div>
<p>
An easy consequence of the additivity is the following corollary. We leave the details to the reader as an exercise. 
</p>
<p>
<div class="thmwrapper cor_thmwrapper" id="intsubcor">
<div class="thmheading cor_thmheading">
<span class="thmcaption cor_thmcaption">
    Corollary
    </span>
<span class="thmlabel cor_thmlabel">5.18</span>
</div>
<div class="thmcontent cor_thmcontent">
<p>
 If <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> and <script type="math/tex">[c,d] \subset [a,b]</script>, then the restriction <script type="math/tex">f|_{[c,d]}</script> is in <script type="math/tex">{\mathcal{R}}[c,d]</script>. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001013">5.2.2 Linearity and monotonicity</h3>
<p>
A sum is a linear function of the summands. So is the integral. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="prop:integrallinear">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.19</span>
<span class="thmtitle prop_thmtitle">(Linearity)</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
<a id="a0000001014" name="a0000001014"></a> Let <script type="math/tex">f</script> and <script type="math/tex">g</script> be in <script type="math/tex">{\mathcal{R}}[a,b]</script> and <script type="math/tex">\alpha \in {\mathbb {R}}</script>. 
</p>
<ol class="enumerate" id="a0000001015" style="list-style: none">
<li id="a0000001016" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<p>
<script type="math/tex">\alpha f</script> is in <script type="math/tex">{\mathcal{R}}[a,b]</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b \alpha f(x) ~ dx = \alpha \int _ a^ b f(x) ~ dx . \end{equation*}</script></span>
</li>
<li id="a0000001017" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
<script type="math/tex">f+g</script> is in <script type="math/tex">{\mathcal{R}}[a,b]</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b \bigl ( f(x)+g(x) \bigr ) ~ dx = \int _ a^ b f(x) ~ dx + \int _ a^ b g(x) ~ dx . \end{equation*}</script></span>
</li>
</ol>
</div>
</div>
</p>
<p>
<br/>
</p>
<div class="proof_wrapper" id="a0000001018">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let us prove the first item for <script type="math/tex">\alpha \geq 0</script>. Let <script type="math/tex">P</script> be a partition of <script type="math/tex">[a,b]</script>. Let <script type="math/tex">m_ i := \inf \{  f(x) : x \in [x_{i-1},x_ i] \} </script> as usual. Since <script type="math/tex">\alpha </script> is nonnegative, we can move the multiplication by <script type="math/tex">\alpha </script> past the infimum, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \inf \bigl \{  \alpha f(x) : x \in [x_{i-1},x_ i] \bigr \}  = \alpha \inf \bigl \{  f(x) : x \in [x_{i-1},x_ i] \bigr \}  = \alpha m_ i . \end{equation*}</script></span>
<p>
 Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,\alpha f) = \sum _{i=1}^ n \alpha m_ i \Delta x_ i = \alpha \sum _{i=1}^ n m_ i \Delta x_ i = \alpha L(P,f). \end{equation*}</script></span>
<p>
 Similarly, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  U(P,\alpha f) = \alpha U(P,f) . \end{equation*}</script></span>
<p>
 Again, as <script type="math/tex">\alpha \geq 0</script> we may move multiplication by <script type="math/tex">\alpha </script> past the supremum. Hence, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \underline{\int _a^b} \alpha f(x)~ dx &  = \sup \,  \bigl \{  L(P,\alpha f) : P \text{ a partition of } [a,b] \bigr \}  \\ &  = \sup \,  \bigl \{  \alpha L(P,f) : P \text{ a partition of } [a,b] \bigr \}  \\ &  = \alpha \,  \sup \,  \bigl \{  L(P,f) : P \text{ a partition of } [a,b] \bigr \}  \\ &  = \alpha \underline{\int _a^b} f(x)~ dx . \end{split}\end{equation*}</script></span>
<p>
 Similarly, we show 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ b} \alpha f(x)~ dx = \alpha \overline{\int _ a^ b} f(x)~ dx . \end{equation*}</script></span>
<p>
 The conclusion now follows for <script type="math/tex">\alpha \geq 0</script>. 
</p>
<p>
To finish the proof of the first item, we need to show that <script type="math/tex">-f</script> is Riemann integrable and <script type="math/tex">\int _ a^ b - f(x)~ dx = - \int _ a^ b f(x)~ dx</script>. The proof of this fact is left as <a href="#.">Exercise <span>5.15</span></a>. 
</p>
<p>
The proof of the second item is left as <a href="#.">Exercise <span>5.16</span></a>. It is not difficult, but it is not as trivial as it may appear at first glance. 
</p>
</div>
</div>
<p>
The second item in the proposition does not hold with equality for the Darboux integrals, but we do obtain inequalities. The proof of the following proposition is <a href="#.">Exercise <span>5.30</span></a>. It follows for upper and lower sums on a fixed partition by <a href="#.">Exercise <span>1.38</span></a>, that is, supremum of a sum is less than or equal to the sum of suprema and similarly for infima. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="prop:upperlowerlinineq">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.20</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be bounded functions. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ b} (f+g) \leq \overline{\int _ a^ b}f+\overline{\int _ a^ b}g , \qquad \text{and} \qquad \underline{\int _a^b} (f+g) \geq \underline{\int _a^b}f+\underline{\int _a^b}g . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
Adding up smaller numbers should give us a smaller result. That is true for an integral as well. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001019">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.21</span>
<span class="thmtitle prop_thmtitle">(Monotonicity)</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
<a id="a0000001020" name="a0000001020"></a> Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be bounded, and <script type="math/tex">f(x) \leq g(x)</script> for all <script type="math/tex">x \in [a,b]</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f \leq \underline{\int _a^b} g \qquad \text{and} \qquad \overline{\int _ a^ b} f \leq \overline{\int _ a^ b} g . \end{equation*}</script></span>
<p>
 Moreover, if <script type="math/tex">f</script> and <script type="math/tex">g</script> are in <script type="math/tex">{\mathcal{R}}[a,b]</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f \leq \int _ a^ b g . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001021">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script> be a partition of <script type="math/tex">[a,b]</script>. Then let 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m_ i := \inf \,  \bigl \{  f(x) : x \in [x_{i-1},x_ i] \bigr \}  \qquad \text{and} \qquad \widetilde{m}_ i := \inf \,  \bigl \{  g(x) : x \in [x_{i-1},x_ i] \bigr \}  . \end{equation*}</script></span>
<p>
 As <script type="math/tex">f(x) \leq g(x)</script>, then <script type="math/tex">m_ i \leq \widetilde{m}_ i</script>. Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,f) = \sum _{i=1}^ n m_ i \Delta x_ i \leq \sum _{i=1}^ n \widetilde{m}_ i \Delta x_ i = L(P,g) . \end{equation*}</script></span>
<p>
 We take the supremum over all <script type="math/tex">P</script> (see <a href="#.">Proposition <span>1.27</span></a>) to obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f \leq \underline{\int _a^b} g . \end{equation*}</script></span>
<p>
 Similarly, we obtain the same conclusion for the upper integrals. Finally, if <script type="math/tex">f</script> and <script type="math/tex">g</script> are Riemann integrable all the integrals are equal, and the conclusion follows. 
</p>
</div>
</div>
</section><section class="subsection">
<h3 id="a0000001022">5.2.3 Continuous functions</h3>
<p>
Let us show that continuous functions are Riemann integrable. In fact, we can even allow some discontinuities. We start with a function continuous on the whole closed interval <script type="math/tex">[a,b]</script>. 
</p>
<p>
<div class="thmwrapper lemma_thmwrapper" id="lemma:contint">
<div class="thmheading lemma_thmheading">
<span class="thmcaption lemma_thmcaption">
    Lemma
    </span>
<span class="thmlabel lemma_thmlabel">5.22</span>
</div>
<div class="thmcontent lemma_thmcontent">
<p>
 If <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is a continuous function, then <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>. 
</p>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001023">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
As <script type="math/tex">f</script> is continuous on a closed bounded interval, it is uniformly continuous. Let <script type="math/tex">\epsilon > 0</script> be given. Find a <script type="math/tex">\delta > 0</script> such that <script type="math/tex">\left\lvert {x-y} \right\rvert  < \delta </script> implies <script type="math/tex">\left\lvert {f(x)-f(y)} \right\rvert  < \frac{\epsilon }{b-a}</script>. 
</p>
<p>
Let <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script> be a partition of <script type="math/tex">[a,b]</script> such that <script type="math/tex">\Delta x_ i < \delta </script> for all <script type="math/tex">i = 1,2, \ldots , n</script>. For example, take <script type="math/tex">n</script> such that <script type="math/tex">\frac{b-a}{n} < \delta </script>, and let <script type="math/tex">x_ i := \frac{i}{n}(b-a) + a</script>. Then for all <script type="math/tex">x, y \in [x_{i-1},x_ i]</script>, we have <script type="math/tex">\left\lvert {x-y} \right\rvert  \leq \Delta x_ i < \delta </script>, and so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x)-f(y) \leq \left\lvert {f(x)-f(y)} \right\rvert  < \frac{\epsilon }{b-a} . \end{equation*}</script></span>
<p>
 As <script type="math/tex">f</script> is continuous on <script type="math/tex">[x_{i-1},x_ i]</script>, it attains a maximum and a minimum on this interval. Let <script type="math/tex">x</script> be a point where <script type="math/tex">f</script> attains the maximum and <script type="math/tex">y</script> be a point where <script type="math/tex">f</script> attains the minimum. Then <script type="math/tex">f(x) = M_ i</script> and <script type="math/tex">f(y) = m_ i</script> in the notation from the definition of the integral. Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  M_ i-m_ i = f(x)-f(y) < \frac{\epsilon }{b-a} . \end{equation*}</script></span>
<p>
 And so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \overline{\int _ a^ b} f - \underline{\int _a^b} f &  \leq U(P,f) - L(P,f) \\ &  = \left( \sum _{i=1}^ n M_ i \Delta x_ i \right) - \left( \sum _{i=1}^ n m_ i \Delta x_ i \right) \\ &  = \sum _{i=1}^ n (M_ i-m_ i) \Delta x_ i \\ &  < \frac{\epsilon }{b-a} \sum _{i=1}^ n \Delta x_ i \\ &  = \frac{\epsilon }{b-a} (b-a) = \epsilon . \end{split}\end{equation*}</script></span>
<p>
 As <script type="math/tex">\epsilon > 0</script> was arbitrary, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ b} f = \underline{\int _a^b} f , \end{equation*}</script></span>
<p>
 and <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script>. 
</p>
</div>
</div>
<p>
The second lemma says that we need the function to only be “Riemann integrable inside the interval,” as long as it is bounded. It also tells us how to compute the integral. 
</p>
<p>
<div class="thmwrapper lemma_thmwrapper" id="lemma:boundedimpriemann">
<div class="thmheading lemma_thmheading">
<span class="thmcaption lemma_thmcaption">
    Lemma
    </span>
<span class="thmlabel lemma_thmlabel">5.23</span>
</div>
<div class="thmcontent lemma_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function, <script type="math/tex">\{  a_ n \} </script> and <script type="math/tex">\{ b_ n \} </script> be sequences such that <script type="math/tex">a < a_ n < b_ n < b</script> for all <script type="math/tex">n</script>, with <script type="math/tex">\lim \,  a_ n = a</script> and <script type="math/tex">\lim \,  b_ n = b</script>. Suppose <script type="math/tex">f \in {\mathcal{R}}[a_ n,b_ n]</script> for all <script type="math/tex">n</script>. Then <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f = \lim _{n \to \infty } \int _{a_ n}^{b_ n} f . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001024">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">M > 0</script> be a real number such that <script type="math/tex">\left\lvert {f(x)} \right\rvert  \leq M</script>. As <script type="math/tex">(b-a) \geq (b_ n-a_ n)</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  -M(b-a) \leq -M(b_ n-a_ n) \leq \int _{a_ n}^{b_ n} f \leq M(b_ n-a_ n) \leq M(b-a) . \end{equation*}</script></span>
<p>
 Therefore, the sequence of numbers <script type="math/tex">\bigl \{  \int _{a_ n}^{b_ n} f \bigr \} _{n=1}^\infty </script> is bounded and by <a href="#.">Bolzano–Weierstrass</a> has a convergent subsequence indexed by <script type="math/tex">n_ k</script>. Let us call <script type="math/tex">L</script> the limit of the subsequence <script type="math/tex">\bigl \{  \int _{a_{n_ k}}^{b_{n_ k}} f \bigr \} _{k=1}^\infty </script>. 
</p>
<p>
<a href="#.">Lemma <span>5.16</span></a> says that the lower and upper integral are additive and the hypothesis says that <script type="math/tex">f</script> is integrable on <script type="math/tex">[a_{n_ k},b_{n_ k}]</script>. Therefore 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f = \underline{\int _a^{a_{n_k}}} f + \int _{a_{n_ k}}^{b_{n_ k}} f + \underline{\int _{b_{n_k}}^b} f \geq -M(a_{n_ k}-a) + \int _{a_{n_ k}}^{b_{n_ k}} f - M(b-b_{n_ k}) . \end{equation*}</script></span>
<p>
 We take the limit as <script type="math/tex">k</script> goes to <script type="math/tex">\infty </script> on the right-hand side, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f \geq -M\cdot 0 + L - M\cdot 0 = L . \end{equation*}</script></span>
<p>
Next we use additivity of the upper integral, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ b} f = \overline{\int _ a^{a_{n_ k}}} f + \int _{a_{n_ k}}^{b_{n_ k}} f + \overline{\int _{b_{n_ k}}^ b} f \leq M(a_{n_ k}-a) + \int _{a_{n_ k}}^{b_{n_ k}} f + M(b-b_{n_ k}) . \end{equation*}</script></span>
<p>
 We take the same subsequence <script type="math/tex">\{  \int _{a_{n_ k}}^{b_{n_ k}} f \} _{k=1}^\infty </script> and take the limit to obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \overline{\int _ a^ b} f \leq M\cdot 0 + L + M\cdot 0 = L . \end{equation*}</script></span>
<p>
 Thus <script type="math/tex">\overline{\int _ a^ b} f = \underline{\int _a^b} f = L</script> and hence <script type="math/tex">f</script> is Riemann integrable and <script type="math/tex">\int _ a^ b f = L</script>. In particular, no matter what subsequence we chose, the <script type="math/tex">L</script> is the same number. 
</p>
<p>
To prove the final statement of the lemma we use <a href="#.">Proposition <span>2.39</span></a>. We have shown that every convergent subsequence <script type="math/tex">\bigl \{  \int _{a_{n_ k}}^{b_{n_ k}} f \bigr \} </script> converges to <script type="math/tex">L = \int _ a^ b f</script>. Therefore, the sequence <script type="math/tex">\bigl \{  \int _{a_ n}^{b_ n} f \bigr \} </script> is convergent and converges to <script type="math/tex">\int _ a^ b f</script>. 
</p>
</div>
</div>
<p>
We say a function <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> has <em>finitely many discontinuities</em> if there exists a finite set <script type="math/tex">S = \{  x_1, x_2, \ldots , x_ n \}  \subset [a,b]</script>, and <script type="math/tex">f</script> is continuous at all points of <script type="math/tex">[a,b] \setminus S</script>. 
</p>
<p>
<div class="thmwrapper thm_thmwrapper" id="a0000001025">
<div class="thmheading thm_thmheading">
<span class="thmcaption thm_thmcaption">
    Theorem
    </span>
<span class="thmlabel thm_thmlabel">5.24</span>
</div>
<div class="thmcontent thm_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a bounded function with finitely many discontinuities. Then <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>. 
</p>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001026">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
We divide the interval into finitely many intervals <script type="math/tex">[a_ i,b_ i]</script> so that <script type="math/tex">f</script> is continuous on the interior <script type="math/tex">(a_ i,b_ i)</script>. If <script type="math/tex">f</script> is continuous on <script type="math/tex">(a_ i,b_ i)</script>, then it is continuous and hence integrable on <script type="math/tex">[c_ i,d_ i]</script> whenever <script type="math/tex">a_ i < c_ i < d_ i < b_ i</script>. By <a href="#.">Lemma <span>5.23</span></a> the restriction of <script type="math/tex">f</script> to <script type="math/tex">[a_ i,b_ i]</script> is integrable. By additivity of the integral (and <a href="#.">induction</a>) <script type="math/tex">f</script> is integrable on the union of the intervals. 
</p>
</div>
</div>
</section><section class="subsection">
<h3 id="a0000001027">5.2.4 More on integrable functions</h3>
<p>
Sometimes it is convenient (or necessary) to change certain values of a function and then integrate. The next result says that if we change the values at finitely many points, the integral does not change. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001028">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.25</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be Riemann integrable. Let <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be such that <script type="math/tex">f(x) = g(x)</script> for all <script type="math/tex">x \in [a,b] \setminus S</script>, where <script type="math/tex">S</script> is a finite set. Then <script type="math/tex">g</script> is a Riemann integrable function and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b g = \int _ a^ b f. \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001029">
<div class="proof_heading">
<span class="proof_caption">
    Sketch of proof.
    </span>
</div>
<div class="proof_content">
<p>
 Using additivity of the integral, we split up the interval <script type="math/tex">[a,b]</script> into smaller intervals such that <script type="math/tex">f(x) = g(x)</script> holds for all <script type="math/tex">x</script> except at the endpoints (details are left to the reader). 
</p>
<p>
Therefore, without loss of generality suppose <script type="math/tex">f(x) = g(x)</script> for all <script type="math/tex">x \in (a,b)</script>. The proof follows by <a href="#.">Lemma <span>5.23</span></a>, and is left as <a href="#.">Exercise <span>5.17</span></a>. 
</p>
</div>
</div>
<p>
Finally, monotone (increasing or decreasing) functions are always Riemann integrable. The proof is left to the reader as part of <a href="#.">Exercise <span>5.28</span></a>. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="prop:monotoneintegrable">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.26</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a monotone function. Then <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001030">5.2.5 Exercises</h3>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:proofoflinpropparti">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.15</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Finish the proof of the first part of <a href="#.">Proposition <span>5.19</span></a>. Let <script type="math/tex">f</script> be in <script type="math/tex">{\mathcal{R}}[a,b]</script>. Prove that <script type="math/tex">-f</script> is in <script type="math/tex">{\mathcal{R}}[a,b]</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b - f(x) ~ dx = - \int _ a^ b f(x) ~ dx . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:proofoflinproppartii">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.16</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Prove the second part of <a href="#.">Proposition <span>5.19</span></a>. Let <script type="math/tex">f</script> and <script type="math/tex">g</script> be in <script type="math/tex">{\mathcal{R}}[a,b]</script>. Prove, without using <a href="#.">Proposition <span>5.20</span></a>, that <script type="math/tex">f+g</script> is in <script type="math/tex">{\mathcal{R}}[a,b]</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b \bigl ( f(x)+g(x) \bigr ) ~ dx = \int _ a^ b f(x) ~ dx + \int _ a^ b g(x) ~ dx . \end{equation*}</script></span>
<p>
 Hint: One way to do it is to use <a href="#.">Proposition <span>5.7</span></a> to find a single partition <script type="math/tex">P</script> such that <script type="math/tex">U(P,f)-L(P,f) < \frac{\epsilon }{2}</script> and <script type="math/tex">U(P,g)-L(P,g) < \frac{\epsilon }{2}</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:changeendpointsintegral">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.17</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be Riemann integrable, and <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be such that <script type="math/tex">f(x) = g(x)</script> for all <script type="math/tex">x \in (a,b)</script>. Prove that <script type="math/tex">g</script> is Riemann integrable and that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b g = \int _ a^ b f. \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001031">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.18</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Prove the <em>mean value theorem for integrals</em>: If <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is continuous, then there exists a <script type="math/tex">c \in [a,b]</script> such that <script type="math/tex">\int _ a^ b f = f(c)(b-a)</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001032">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.19</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a continuous function such that <script type="math/tex">f(x) \geq 0</script> for all <script type="math/tex">x \in [a,b]</script> and <script type="math/tex">\int _ a^ b f = 0</script>. Prove that <script type="math/tex">f(x) = 0</script> for all <script type="math/tex">x</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001033">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.20</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a continuous function and <script type="math/tex">\int _ a^ b f = 0</script>. Prove that there exists a <script type="math/tex">c \in [a,b]</script> such that <script type="math/tex">f(c) = 0</script>. (Compare with the previous exercise.) 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001034">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.21</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be continuous functions such that <script type="math/tex">\int _ a^ b f = \int _ a^ b g</script>. Show that there exists a <script type="math/tex">c \in [a,b]</script> such that <script type="math/tex">f(c) = g(c)</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001035">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.22</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>. Let <script type="math/tex">\alpha , \beta , \gamma </script> be arbitrary numbers in <script type="math/tex">[a,b]</script> (not necessarily ordered in any way). Prove 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _\alpha ^\gamma f = \int _\alpha ^\beta f + \int _\beta ^\gamma f . \end{equation*}</script></span>
<p>
 Recall what <script type="math/tex">\int _ a^ b f</script> means if <script type="math/tex">b \leq a</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001036">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.23</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Prove <a href="#.">Corollary <span>5.18</span></a>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:easyabsint">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.24</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is bounded and has finitely many discontinuities. Show that as a function of <script type="math/tex">x</script> the expression <script type="math/tex">\left\lvert {f(x)} \right\rvert </script> is bounded with finitely many discontinuities and is thus Riemann integrable. Then show 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\int _ a^ b f(x)~ dx} \right\rvert  \leq \int _ a^ b \left\lvert {f(x)} \right\rvert ~ dx . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001037">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.25</span>
<span class="thmtitle exercise_thmtitle">(Hard)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Show that the Thomae<a id="a0000001038" name="a0000001038"></a> or popcorn function (see <a href="#.">Example <span>3.29</span></a>) is Riemann integrable. Therefore, there exists a function discontinuous at all rational numbers (a dense set) that is Riemann integrable. 
</p>
<p>
In particular, define <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> by 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) := \begin{cases}  \frac{1}{k} &  \text{if } x=\frac{m}{k} \text{ where } m,k \in {\mathbb {N}}\text{ and } m \text{ and } k \text{ have no common divisors,} \\ 0 &  \text{if } x \text{ is irrational.} \end{cases}\end{equation*}</script></span>
<p>
 Show <script type="math/tex">\int _0^1 f = 0</script>. 
</p>
</div>
</div>
</p>
<p>
<small class="small"> If <script type="math/tex">I \subset {\mathbb {R}}</script> is a bounded interval, then the function <span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \varphi _ I(x) := \begin{cases}  1 &  \text{if } x \in I, \\ 0 &  \text{otherwise,} \end{cases}\end{equation*}</script></span> is called an <em>elementary step function</em>. </small>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:stepfunctionintegrable">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.26</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">I</script> be an arbitrary bounded interval (you should consider all types of intervals: closed, open, half-open) and <script type="math/tex">a < b</script>, then using only the definition of the integral show that the elementary step function <script type="math/tex">\varphi _ I</script> is integrable on <script type="math/tex">[a,b]</script>, and find the integral in terms of <script type="math/tex">a</script>, <script type="math/tex">b</script>, and the endpoints of <script type="math/tex">I</script>. 
</p>
</div>
</div>
</p>
<p>
<small class="small"> A function <script type="math/tex">f</script> is called a <em>step function</em> if it can be written as <span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) = \sum _{k=1}^ n \alpha _ k \varphi _{I_ k} (x) \end{equation*}</script></span> for some real numbers <script type="math/tex">\alpha _1,\alpha _2, \ldots , \alpha _ n</script> and some bounded intervals <script type="math/tex">I_1,I_2,\ldots ,I_ n</script>. </small>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001039">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.27</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Using <a href="#.">Exercise <span>5.26</span></a>, show that a step function is integrable on every interval <script type="math/tex">[a,b]</script>. Furthermore, find the integral in terms of <script type="math/tex">a</script>, <script type="math/tex">b</script>, the endpoints of <script type="math/tex">I_ k</script> and the <script type="math/tex">\alpha _ k</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:boundedvariationintegrable">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.28</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a function. 
</p>
<ol class="enumerate" id="a0000001040" style="list-style: none">
<li id="a0000001041" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show that if <script type="math/tex">f</script> is increasing, then it is Riemann integrable. Hint: Use a uniform partition; each subinterval of same length. 
</p>
</li>
<li id="a0000001042" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Use part a) to show that if <script type="math/tex">f</script> is decreasing, then it is Riemann integrable. 
</p>
</li>
<li id="a0000001043" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		c)
	</span>
<p>
Suppose<a class="footnote" href="#a0000001044">
<sup class="footnotemark">3</sup>
</a> <script type="math/tex">h = f-g</script> where <script type="math/tex">f</script> and <script type="math/tex">g</script> are increasing functions on <script type="math/tex">[a,b]</script>. Show that <script type="math/tex">h</script> is Riemann integrable. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:hardabsint">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.29</span>
<span class="thmtitle exercise_thmtitle">(Challenging)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
  Suppose <script type="math/tex">f \in {\mathcal{R}}[a,b]</script>, then the function that takes <script type="math/tex">x</script> to <script type="math/tex">\left\lvert {f(x)} \right\rvert </script> is also Riemann integrable on <script type="math/tex">[a,b]</script>. Then show the same inequality as <a href="#.">Exercise <span>5.24</span></a>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:upperlowerlinineq">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.30</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> are bounded. 
</p>
<ol class="enumerate" id="a0000001045" style="list-style: none">
<li id="a0000001046" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show <script type="math/tex">\overline{\int _ a^ b} (f+g) \leq \overline{\int _ a^ b}f+\overline{\int _ a^ b}g</script> and <script type="math/tex">\underline{\int _a^b} (f+g) \geq \underline{\int _a^b}f+\underline{\int _a^b}g</script>. 
</p>
</li>
<li id="a0000001047" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Find example <script type="math/tex">f</script> and <script type="math/tex">g</script> where the inequality is strict. Hint: <script type="math/tex">f</script> and <script type="math/tex">g</script> should not be Riemann integrable. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001048">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.31</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is continuous and <script type="math/tex">g \colon {\mathbb {R}}\to {\mathbb {R}}</script> is Lipschitz continuous. Define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  h(x) := \int _ a^ b g(t-x) f(t) ~  dt . \end{equation*}</script></span>
<p>
 Prove that <script type="math/tex">h</script> is Lipschitz continuous. 
</p>
</div>
</div>
</p>
<p>
<br/>
</p>
</section>
</section><section class="section">
<h2 id="sec:ftc">5.3 Fundamental theorem of calculus</h2>
<p>
In this chapter we discuss and prove the <em>fundamental theorem of calculus</em>. The entirety of integral calculus is built upon this theorem, ergo the name. The theorem relates the seemingly unrelated concepts of integral and derivative. It tells us how to compute the antiderivative of a function using the integral and vice versa. 
</p>
<section class="subsection">
<h3 id="a0000001049">5.3.1 First form of the theorem</h3>
<p>
<div class="thmwrapper thm_thmwrapper" id="thm:FTCv1">
<div class="thmheading thm_thmheading">
<span class="thmcaption thm_thmcaption">
    Theorem
    </span>
<span class="thmlabel thm_thmlabel">5.27</span>
</div>
<div class="thmcontent thm_thmcontent">
<p>
 Let <script type="math/tex">F \colon [a,b] \to {\mathbb {R}}</script> be a continuous function, differentiable on <script type="math/tex">(a,b)</script>. Let <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> be such that <script type="math/tex">f(x) = F'(x)</script> for <script type="math/tex">x \in (a,b)</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f = F(b)-F(a) . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
It is not hard to generalize the theorem to allow a finite number of points in <script type="math/tex">[a,b]</script> where <script type="math/tex">F</script> is not differentiable, as long as it is continuous. This generalization is left as an exercise. 
</p>
<div class="proof_wrapper" id="a0000001050">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">P = \{  x_0, x_1, \ldots , x_ n \} </script> be a partition of <script type="math/tex">[a,b]</script>. For each interval <script type="math/tex">[x_{i-1},x_ i]</script>, use the <a href="#.">mean value theorem</a> to find a <script type="math/tex">c_ i \in (x_{i-1},x_ i)</script> such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(c_ i) \Delta x_ i = F’(c_ i) (x_ i - x_{i-1}) = F(x_ i) - F(x_{i-1}) . \end{equation*}</script></span>
<p>
 See <a href="#.">Figure <span>5.5</span></a>, and notice that the area of all three shaded rectangles is <script type="math/tex">F(x_{i+1})-F(x_{i-2})</script>. The idea is that by taking smaller and smaller subintervals we prove that this area is the integral of <script type="math/tex">f</script>. <figure id="fig:fundthmfig">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0091.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.5</span> <span class="caption_text">Mean value theorem on subintervals of a partition approximating area under the curve.</span>
</figcaption>
</div>
</figure>
</p>
<p>
Using the notation from the definition of the integral, we have <script type="math/tex">m_ i \leq f(c_ i) \leq M_ i</script>, and so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  m_ i \Delta x_ i \leq F(x_ i) - F(x_{i-1}) \leq M_ i \Delta x_ i . \end{equation*}</script></span>
<p>
 We sum over <script type="math/tex">i = 1,2, \ldots , n</script> to get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{i=1}^ n m_ i \Delta x_ i \leq \sum _{i=1}^ n \bigl (F(x_ i) - F(x_{i-1}) \bigr ) \leq \sum _{i=1}^ n M_ i \Delta x_ i . \end{equation*}</script></span>
<p>
 In the middle sum, all the terms except the first and last cancel and we end up with <script type="math/tex">F(x_ n)-F(x_0) = F(b)-F(a)</script>. The sums on the left and on the right are the lower and the upper sum respectively. So 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(P,f) \leq F(b)-F(a) \leq U(P,f) . \end{equation*}</script></span>
<p>
 We take the supremum of <script type="math/tex">L(P,f)</script> over all partitions <script type="math/tex">P</script> and the left inequality yields 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \underline{\int _a^b} f \leq F(b)-F(a) . \end{equation*}</script></span>
<p>
 Similarly, taking the infimum of <script type="math/tex">U(P,f)</script> over all partitions <script type="math/tex">P</script> yields 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(b)-F(a) \leq \overline{\int _ a^ b} f . \end{equation*}</script></span>
<p>
 As <script type="math/tex">f</script> is Riemann integrable, we have 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f = \underline{\int _a^b} f \leq F(b)-F(a) \leq \overline{\int _ a^ b} f = \int _ a^ b f . \end{equation*}</script></span>
<p>
 The inequalities must be equalities and we are done. 
</p>
</div>
</div>
<p>
The theorem is used to compute integrals. Suppose we know that the function <script type="math/tex">f(x)</script> is a derivative of some other function <script type="math/tex">F(x)</script>, then we can find an explicit expression for <script type="math/tex">\int _ a^ b f</script>. 
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001051">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.28</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
To compute 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _0^1 x^2 ~ dx , \end{equation*}</script></span>
<p>
 we notice <script type="math/tex">x^2</script> is the derivative of <script type="math/tex">\frac{x^3}{3}</script>. The fundamental theorem says 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _0^1 x^2 ~ dx = \frac{1^3}{3} - \frac{0^3}{3} = \frac{1}{3}. \end{equation*}</script></span>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001052">5.3.2 Second form of the theorem</h3>
<p>
The second form of the fundamental theorem gives us a way to solve the differential equation <script type="math/tex">F'(x) = f(x)</script>, where <script type="math/tex">f</script> is a known function and we are trying to find an <script type="math/tex">F</script> that satisfies the equation. 
</p>
<p>
<div class="thmwrapper thm_thmwrapper" id="thm:FTCv2">
<div class="thmheading thm_thmheading">
<span class="thmcaption thm_thmcaption">
    Theorem
    </span>
<span class="thmlabel thm_thmlabel">5.29</span>
</div>
<div class="thmcontent thm_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a Riemann integrable function. Define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(x) := \int _ a^ x f . \end{equation*}</script></span>
<p>
 First, <script type="math/tex">F</script> is continuous on <script type="math/tex">[a,b]</script>. Second, if <script type="math/tex">f</script> is continuous at <script type="math/tex">c \in [a,b]</script>, then <script type="math/tex">F</script> is differentiable at <script type="math/tex">c</script> and <script type="math/tex">F'(c) = f(c)</script>. 
</p>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001053">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
As <script type="math/tex">f</script> is bounded, there is an <script type="math/tex">M > 0</script> such that <script type="math/tex">\left\lvert {f(x)} \right\rvert  \leq M</script> for all <script type="math/tex">x \in [a,b]</script>. Suppose <script type="math/tex">x,y \in [a,b]</script> with <script type="math/tex">x > y</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {F(x)-F(y)} \right\rvert  = \left\lvert {\int _ a^ x f - \int _ a^ y f} \right\rvert  = \left\lvert {\int _ y^ x f} \right\rvert  \leq M\left\lvert {x-y} \right\rvert  . \end{equation*}</script></span>
<p>
 By symmetry, the same also holds if <script type="math/tex">x < y</script>. So <script type="math/tex">F</script> is Lipschitz continuous and hence continuous. 
</p>
<p>
Now suppose <script type="math/tex">f</script> is continuous at <script type="math/tex">c</script>. Let <script type="math/tex">\epsilon > 0</script> be given. Let <script type="math/tex">\delta > 0</script> be such that for <script type="math/tex">x \in [a,b]</script>, <script type="math/tex">\left\lvert {x-c} \right\rvert  < \delta </script> implies <script type="math/tex">\left\lvert {f(x)-f(c)} \right\rvert  < \epsilon </script>. In particular, for such <script type="math/tex">x</script>, we have 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(c)-\epsilon < f(x) < f(c) + \epsilon . \end{equation*}</script></span>
<p>
 Thus if <script type="math/tex">x > c</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \bigl (f(c)-\epsilon \bigr ) (x-c) \leq \int _ c^ x f \leq \bigl (f(c) + \epsilon \bigr )(x-c). \end{equation*}</script></span>
<p>
 When <script type="math/tex">c > x</script>, then the inequalities are reversed. Therefore, assuming <script type="math/tex">c \not= x</script>, we get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(c)-\epsilon \leq \frac{\int _ c^{x} f}{x-c} \leq f(c)+\epsilon . \end{equation*}</script></span>
<p>
 As 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{F(x)-F(c)}{x-c} = \frac{\int _ a^{x} f - \int _ a^{c} f}{x-c} = \frac{\int _ c^{x} f}{x-c} , \end{equation*}</script></span>
<p>
 we have 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\frac{F(x)-F(c)}{x-c} - f(c)} \right\rvert  \leq \epsilon . \end{equation*}</script></span>
<p>
 The result follows. It is left to the reader to see why is it OK that we just have a non-strict inequality. 
</p>
</div>
</div>
<p>
Of course, if <script type="math/tex">f</script> is continuous on <script type="math/tex">[a,b]</script>, then it is automatically Riemann integrable, <script type="math/tex">F</script> is differentiable on all of <script type="math/tex">[a,b]</script> and <script type="math/tex">F'(x) = f(x)</script> for all <script type="math/tex">x \in [a,b]</script>. 
</p>
<p>
<div class="thmwrapper remark_thmwrapper" id="remark:fundthmbase">
<div class="thmheading remark_thmheading">
<span class="thmcaption remark_thmcaption">
    Remark
    </span>
<span class="thmlabel remark_thmlabel">5.30</span>
</div>
<div class="thmcontent remark_thmcontent">
<p>
 The second form of the fundamental theorem of calculus still holds if we let <script type="math/tex">d \in [a,b]</script> and define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(x) := \int _ d^ x f . \end{equation*}</script></span>
<p>
 That is, we can use any point of <script type="math/tex">[a,b]</script> as our base point. The proof is left as an exercise. 
</p>
</div>
</div>
</p>
<p>
Let us look at what a simple discontinuity can do. Take <script type="math/tex">f(x) := -1</script> if <script type="math/tex">x < 0</script>, and <script type="math/tex">f(x) := 1</script> if <script type="math/tex">x \geq 0</script>. Let <script type="math/tex">F(x) := \int _0^ x f</script>. It is not difficult to see that <script type="math/tex">F(x) = \left\lvert {x} \right\rvert </script>. Notice that <script type="math/tex">f</script> is discontinuous at <script type="math/tex">0</script> and <script type="math/tex">F</script> is not differentiable at <script type="math/tex">0</script>. However, the converse in the theorem does not hold. Let <script type="math/tex">g(x) := 0</script> if <script type="math/tex">x \not= 0</script>, and <script type="math/tex">g(0) := 1</script>. Letting <script type="math/tex">G(x) := \int _0^ x g</script>, we find that <script type="math/tex">G(x) = 0</script> for all <script type="math/tex">x</script>. So <script type="math/tex">g</script> is discontinuous at <script type="math/tex">0</script>, but <script type="math/tex">G'(0)</script> exists and is equal to 0. 
</p>
<p>
A common misunderstanding of the integral for calculus students is to think of integrals whose solution cannot be given in closed-form as somehow deficient. This is not the case. Most integrals we write down are not computable in closed-form. Even some integrals that we consider in closed-form are not really such. We define the natural logarithm as the antiderivative of <script type="math/tex">\frac{1}{x}</script> such that <script type="math/tex">\ln 1 = 0</script>: 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \ln x := \int _1^ x \frac{1}{s}~ ds . \end{equation*}</script></span>
<p>
 How does a computer find the value of <script type="math/tex">\ln x</script>? One way to do it is to numerically approximate this integral. Morally, we did not really “simplify” <script type="math/tex">\int _1^ x \frac{1}{s}~ ds</script> by writing down <script type="math/tex">\ln x</script>. We simply gave the integral a name. If we require numerical answers, it is possible we end up doing the calculation by approximating an integral anyway. In the next section, we even define the exponential using the logarithm, which we define in terms of the integral. 
</p>
<p>
Another common function defined by an integral that cannot be evaluated symbolically in terms of elementary functions is the <script type="math/tex">\operatorname {erf}</script> function, defined as 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \operatorname {erf}(x) := \frac{2}{\sqrt{\pi }} \int _0^ x e^{-s^2} ~ ds . \end{equation*}</script></span>
<p>
 This function comes up often in applied mathematics. It is simply the antiderivative of <script type="math/tex">\left(\frac{2}{\sqrt{\pi }}\right) e^{-x^2}</script> that is zero at zero. The second form of the fundamental theorem tells us that we can write the function as an integral. If we wish to compute any particular value, we numerically approximate the integral. 
</p>
</section><section class="subsection">
<h3 id="a0000001054">5.3.3 Change of variables</h3>
<p>
A theorem often used in calculus to solve integrals is the change of variables theorem, you may have called it <em><script type="math/tex">u</script>-substitution</em>. Let us prove it now. Recall a function is continuously differentiable if it is differentiable and the derivative is continuous. 
</p>
<p>
<div class="thmwrapper thm_thmwrapper" id="a0000001055">
<div class="thmheading thm_thmheading">
<span class="thmcaption thm_thmcaption">
    Theorem
    </span>
<span class="thmlabel thm_thmlabel">5.31</span>
<span class="thmtitle thm_thmtitle">(Change of variables)</span>
</div>
<div class="thmcontent thm_thmcontent">
<p>
<a id="a0000001056" name="a0000001056"></a> Let <script type="math/tex">g \colon [a,b] \to {\mathbb {R}}</script> be a continuously differentiable function, let <script type="math/tex">f \colon [c,d] \to {\mathbb {R}}</script> be continuous, and suppose <script type="math/tex">g\bigl ([a,b]\bigr ) \subset [c,d]</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f\bigl (g(x)\bigr )\,  g’(x)~  dx = \int _{g(a)}^{g(b)} f(s)~  ds . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001057">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
As <script type="math/tex">g</script>, <script type="math/tex">g'</script>, and <script type="math/tex">f</script> are continuous, <script type="math/tex">f\bigl (g(x)\bigr )\, g'(x)</script> is a continuous function of <script type="math/tex">[a,b]</script>, therefore it is Riemann integrable. Similarly, <script type="math/tex">f</script> is integrable on every subinterval of <script type="math/tex">[c,d]</script>. 
</p>
<p>
Define <script type="math/tex">F \colon [c,d] \to {\mathbb {R}}</script> by 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(y) := \int _{g(a)}^{y} f(s)~ ds . \end{equation*}</script></span>
<p>
 By the second form of the fundamental theorem of calculus (see <a href="#.">Remark <span>5.30</span></a> and <a href="#.">Exercise <span>5.35</span></a>), <script type="math/tex">F</script> is a differentiable function and <script type="math/tex">F'(y) = f(y)</script>. Apply the chain rule, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \bigl ( F \circ g \bigr )’ (x) = F’\bigl (g(x)\bigr ) g’(x) = f\bigl (g(x)\bigr ) g’(x) . \end{equation*}</script></span>
<p>
 Note that <script type="math/tex">F\bigl (g(a)\bigr ) = 0</script> and use the first form of the fundamental theorem to obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{multline*}  \qquad \int _{g(a)}^{g(b)} f(s)~ ds = F\bigl (g(b)\bigr ) = F\bigl (g(b)\bigr )-F\bigl (g(a)\bigr ) \\ = \int _ a^ b \bigl ( F \circ g \bigr )’ (x) ~ dx = \int _ a^ b f\bigl (g(x)\bigr ) g’(x) ~ dx . \qquad \qedhere \end{multline*}</script></span>
</div>
</div>
<p>
The change of variables theorem is often used to solve integrals by changing them to integrals that we know or that we can solve using the fundamental theorem of calculus. 
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001058">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.32</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
The derivative of <script type="math/tex">\sin (x)</script> is <script type="math/tex">\cos (x)</script>. Using <script type="math/tex">g(x):=x^2</script>, we solve 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _0^{\sqrt{\pi }} x \cos (x^2) ~  dx = \int _0^\pi \frac{\cos (s)}{2} ~  ds = \frac{1}{2} \int _0^\pi \cos (s) ~  ds = \frac{ \sin (\pi ) - \sin (0) }{2} = 0 . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
However, beware that we must satisfy the hypotheses of the theorem. The following example demonstrates why we should not just move symbols around mindlessly. We must be careful that those symbols really make sense. 
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001059">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.33</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
Consider 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-1}^{1} \frac{\ln \left\lvert {x} \right\rvert }{x} ~ dx . \end{equation*}</script></span>
<p>
 It may be tempting to take <script type="math/tex">g(x) := \ln \left\lvert {x} \right\rvert </script>. Compute <script type="math/tex">g'(x) = \frac{1}{x}</script> and try to write 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{g(-1)}^{g(1)} s ~ ds = \int _{0}^{0} s ~ ds = 0. \end{equation*}</script></span>
<p>
 This “solution” is incorrect, and it does not say that we can solve the given integral. First problem is that <script type="math/tex">\frac{\ln \left\lvert {x} \right\rvert }{x}</script> is not continuous on <script type="math/tex">[-1,1]</script>. It is not defined at 0, and cannot be made continuous by defining a value at 0. Second, <script type="math/tex">\frac{\ln \left\lvert {x} \right\rvert }{x}</script> is not even Riemann integrable on <script type="math/tex">[-1,1]</script> (it is unbounded). The integral we wrote down simply does not make sense. Finally, <script type="math/tex">g</script> is not continuous on <script type="math/tex">[-1,1]</script>, let alone continuously differentiable. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001060">5.3.4 Exercises</h3>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001061">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.32</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Compute <script type="math/tex">\displaystyle \frac{d}{dx} \biggl ( \int _{-x}^ x e^{s^2}~ ds \biggr )</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001062">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.33</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Compute <script type="math/tex">\displaystyle \frac{d}{dx} \biggl ( \int _{0}^{x^2} \sin (s^2)~ ds \biggr )</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001063">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.34</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">F \colon [a,b] \to {\mathbb {R}}</script> is continuous and differentiable on <script type="math/tex">[a,b] \setminus S</script>, where <script type="math/tex">S</script> is a finite set. Suppose there exists an <script type="math/tex">f \in {\mathcal{R}}[a,b]</script> such that <script type="math/tex">f(x) = F'(x)</script> for <script type="math/tex">x \in [a,b] \setminus S</script>. Show that <script type="math/tex">\int _ a^ b f = F(b)-F(a)</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="secondftc:exercise">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.35</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a continuous function. Let <script type="math/tex">c \in [a,b]</script> be arbitrary. Define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(x) := \int _ c^ x f . \end{equation*}</script></span>
<p>
 Prove that <script type="math/tex">F</script> is differentiable and that <script type="math/tex">F'(x) = f(x)</script> for all <script type="math/tex">x \in [a,b]</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001064">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.36</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Prove <em>integration by parts</em>. That is, suppose <script type="math/tex">F</script> and <script type="math/tex">G</script> are continuously differentiable functions on <script type="math/tex">[a,b]</script>. Then prove 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b F(x)G’(x)~ dx = F(b)G(b)-F(a)G(a) - \int _ a^ b F’(x)G(x)~ dx . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001065">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.37</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">F</script> and <script type="math/tex">G</script> are continuously<a class="footnote" href="#a0000001066">
<sup class="footnotemark">4</sup>
</a> differentiable functions defined on <script type="math/tex">[a,b]</script> such that <script type="math/tex">F'(x) = G'(x)</script> for all <script type="math/tex">x \in [a,b]</script>. Using the fundamental theorem of calculus, show that <script type="math/tex">F</script> and <script type="math/tex">G</script> differ by a constant. That is, show that there exists a <script type="math/tex">C \in {\mathbb {R}}</script> such that <script type="math/tex">F(x)-G(x) = C</script>. 
</p>
</div>
</div>
</p>
<p>
<small class="small"> The next exercise shows how we can use the integral to “smooth out” a non-differentiable function. </small>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:smoothingout">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.38</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> be a continuous function. Let <script type="math/tex">\epsilon > 0</script> be a constant. For <script type="math/tex">x \in [a+\epsilon ,b-\epsilon ]</script>, define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  g(x) := \frac{1}{2\epsilon } \int _{x-\epsilon }^{x+\epsilon } f . \end{equation*}</script></span>
<ol class="enumerate" id="a0000001067" style="list-style: none">
<li id="a0000001068" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show that <script type="math/tex">g</script> is differentiable and find the derivative. 
</p>
</li>
<li id="a0000001069" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Let <script type="math/tex">f</script> be differentiable and fix <script type="math/tex">x \in (a,b)</script> (let <script type="math/tex">\epsilon </script> be small enough). What happens to <script type="math/tex">g'(x)</script> as <script type="math/tex">\epsilon </script> gets smaller? 
</p>
</li>
<li id="a0000001070" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		c)
	</span>
<p>
Find <script type="math/tex">g</script> for <script type="math/tex">f(x) := \left\lvert {x} \right\rvert </script>, <script type="math/tex">\epsilon = 1</script> (you can assume <script type="math/tex">[a,b]</script> is large enough). 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001071">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.39</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is continuous and <script type="math/tex">\int _ a^ x f = \int _ x^ b f</script> for all <script type="math/tex">x \in [a,b]</script>. Show that <script type="math/tex">f(x) = 0</script> for all <script type="math/tex">x \in [a,b]</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001072">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.40</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is continuous and <script type="math/tex">\int _ a^ x f = 0</script> for all rational <script type="math/tex">x</script> in <script type="math/tex">[a,b]</script>. Show that <script type="math/tex">f(x) = 0</script> for all <script type="math/tex">x \in [a,b]</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001073">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.41</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
A function <script type="math/tex">f</script> is an <em>odd function</em> if <script type="math/tex">f(x) = -f(-x)</script>, and <script type="math/tex">f</script> is an <em>even function</em> if <script type="math/tex">f(x) = f(-x)</script>. Let <script type="math/tex">a > 0</script>. Assume <script type="math/tex">f</script> is continuous. Prove: 
</p>
<ol class="enumerate" id="a0000001074" style="list-style: none">
<li id="a0000001075" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
If <script type="math/tex">f</script> is odd, then <script type="math/tex">\int _{-a}^ a f = 0</script>. 
</p>
</li>
<li id="a0000001076" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
If <script type="math/tex">f</script> is even, then <script type="math/tex">\int _{-a}^ a f = 2 \int _0^ a f</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001077">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.42</span>
</div>
<div class="thmcontent exercise_thmcontent">
<ol class="enumerate" id="a0000001078" style="list-style: none">
<li id="a0000001079" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show that <script type="math/tex">f(x) := \sin (\frac{1}{x})</script> is integrable on every interval (you can define <script type="math/tex">f(0)</script> to be anything). 
</p>
</li>
<li id="a0000001080" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Compute <script type="math/tex">\int _{-1}^1 \sin (\frac{1}{x})~ dx</script> (mind the discontinuity). 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001081">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.43</span>
<span class="thmtitle exercise_thmtitle">(uses <a href="#.">§<span>3.6</span></a>)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<ol class="enumerate" id="a0000001082" style="list-style: none">
<li id="a0000001083" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is increasing, by <a href="#.">Proposition <span>5.26</span></a>, <script type="math/tex">f</script> is Riemann integrable. Suppose <script type="math/tex">f</script> has a discontinuity at <script type="math/tex">c \in (a,b)</script>, show that <script type="math/tex">F(x) := \int _ a^ x f</script> is not differentiable at <script type="math/tex">c</script>. 
</p>
</li>
<li id="a0000001084" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
In <a href="#.">Exercise <span>3.89</span></a>, you constructed an increasing function <script type="math/tex">f \colon [0,1] \to {\mathbb {R}}</script> that is discontinuous at every <script type="math/tex">x \in [0,1] \cap {\mathbb {Q}}</script>. Use this <script type="math/tex">f</script> to construct a function <script type="math/tex">F(x)</script> that is continuous on <script type="math/tex">[0,1]</script>, but not differentiable at every <script type="math/tex">x \in [0,1] \cap {\mathbb {Q}}</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<br/>
</p>
</section>
</section><section class="section">
<h2 id="sec:logandexp">5.4 The logarithm and the exponential</h2>
<p>
We now have the tools required to properly define the exponential and the logarithm that you know from calculus so well. We start with exponentiation. If <script type="math/tex">n</script> is a positive integer, it is obvious to define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  x^ n := \underbrace{x \cdot x \cdot \cdots \cdot x}_{n \text{ times}} . \end{equation*}</script></span>
<p>
 It makes sense to define <script type="math/tex">x^0 := 1</script>. For negative integers, let <script type="math/tex">x^{-n} := \frac{1}{x^ n}</script>. If <script type="math/tex">x > 0</script>, define <script type="math/tex">x^{1/n}</script> as the unique positive <script type="math/tex">n</script>th root. Finally, for a rational number <script type="math/tex">\frac{n}{m}</script> (in lowest terms), define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  x^{n/m} := {\bigl (x^{1/m}\bigr )}^ n . \end{equation*}</script></span>
<p>
 It is not difficult to show we get the same number no matter what representation of <script type="math/tex">\frac{n}{m}</script> we use, so we do not need to use lowest terms. 
</p>
<p>
However, what do we mean by <script type="math/tex">\sqrt{2}^{\sqrt{2}}</script>? Or <script type="math/tex">x^ y</script> in general? In particular, what is <script type="math/tex">e^ x</script> for all <script type="math/tex">x</script>? And how do we solve <script type="math/tex">y=e^ x</script> for <script type="math/tex">x</script>? This section answers these questions and more. 
</p>
<section class="subsection">
<h3 id="a0000001085">5.4.1 The logarithm</h3>
<p>
<a id="a0000001086" name="a0000001086"></a>
</p>
<p>
It is convenient to define the logarithm first. Let us show that a unique function with the right properties exists, and only then will we call it <em>the</em> logarithm. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001087">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.34</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
There exists a unique function <script type="math/tex">L \colon (0,\infty ) \to {\mathbb {R}}</script> such that 
</p>
<ol class="enumerate" id="a0000001088" style="list-style: none">
<li id="it:log:i" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<p>
<script type="math/tex">L(1) = 0</script>. 
</p>
</li>
<li id="it:log:ii" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
<script type="math/tex">L</script> is differentiable and <script type="math/tex">L'(x) = \frac{1}{x}</script>. 
</p>
</li>
<li id="it:log:iii" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(iii)
	</span>
<p>
<script type="math/tex">L</script> is strictly increasing, bijective, and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x\to 0} L(x) = -\infty , \qquad \text{and} \qquad \lim _{x\to \infty } L(x) = \infty . \end{equation*}</script></span>
</li>
<li id="it:log:iv" value="4">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(iv)
	</span>
<p>
<script type="math/tex">L(xy) = L(x)+L(y)</script> for all <script type="math/tex">x,y \in (0,\infty )</script>. 
</p>
</li>
<li id="it:log:v" value="5">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(v)
	</span>
<p>
 If <script type="math/tex">q</script> is a rational number and <script type="math/tex">x > 0</script>, then <script type="math/tex">L(x^ q) = q L(x)</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001089">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
To prove existence, we define a candidate and show it satisfies all the properties. Let 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(x) := \int _1^ x \frac{1}{t}~ dt . \end{equation*}</script></span>
<p>
Obviously, <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:i">1</a> holds. Property <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:ii">2</a> holds via the second form of the fundamental theorem of calculus (<a href="#.">Theorem <span>5.29</span></a>). 
</p>
<p>
To prove property <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:iv">4</a>, we change variables <script type="math/tex">u=yt</script> to obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(x) = \int _1^{x} \frac{1}{t}~ dt = \int _ y^{xy} \frac{1}{u}~ du = \int _1^{xy} \frac{1}{u}~ du - \int _1^{y} \frac{1}{u}~ du = L(xy)-L(y) . \end{equation*}</script></span>
<p>
Let us prove <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:iii">3</a>. Property <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:ii">2</a> together with the fact that <script type="math/tex">L'(x) = \frac{1}{x} > 0</script> for <script type="math/tex">x > 0</script>, implies that <script type="math/tex">L</script> is strictly increasing and hence one-to-one. Let us show <script type="math/tex">L</script> is onto. As <script type="math/tex">\frac{1}{t} \geq \frac{1}{2}</script> when <script type="math/tex">t \in [1,2]</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(2) = \int _1^2 \frac{1}{t} ~ dt \geq \frac{1}{2} . \end{equation*}</script></span>
<p>
 By induction, <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:iv">4</a> implies that for <script type="math/tex">n \in {\mathbb {N}}</script>
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(2^ n) = L(2) + L(2) + \cdots + L(2) = n L(2) . \end{equation*}</script></span>
<p>
 Given <script type="math/tex">y > 0</script>, by the <a href="#.">Archimedean property</a> of the real numbers (notice <script type="math/tex">L(2) > 0</script>), there is an <script type="math/tex">n \in {\mathbb {N}}</script> such that <script type="math/tex">L(2^ n) > y</script>. By the <a href="#.">intermediate value theorem</a> there is an <script type="math/tex">x_1 \in (1,2^ n)</script> such that <script type="math/tex">L(x_1) = y</script>. We get <script type="math/tex">(0,\infty )</script> is in the image of <script type="math/tex">L</script>. As <script type="math/tex">L</script> is increasing, <script type="math/tex">L(x) > y</script> for all <script type="math/tex">x > 2^ n</script>, and so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x\to \infty } L(x) = \infty . \end{equation*}</script></span>
<p>
 Next <script type="math/tex">0 = L(\frac{x}{x}) = L(x) + L(\frac{1}{x})</script>, and so <script type="math/tex">L(x) = - L(\frac{1}{x})</script>. Using <script type="math/tex">x=2^{-n}</script>, we obtain as above that <script type="math/tex">L</script> achieves all negative numbers. And 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x \to 0} L(x) = \lim _{x \to 0} -L(\frac{1}{x}) = \lim _{x \to \infty } -L(x) = - \infty . \end{equation*}</script></span>
<p>
 In the limits, note that only <script type="math/tex">x > 0</script> are in the domain of <script type="math/tex">L</script>. 
</p>
<p>
Let us prove <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:v">5</a>. Fix <script type="math/tex">x > 0</script>. As above, <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:iv">4</a> implies <script type="math/tex">L(x^ n) = n L(x)</script> for all <script type="math/tex">n \in {\mathbb {N}}</script>. We already found that <script type="math/tex">L(x) = - L(\frac{1}{x})</script>, so <script type="math/tex">L(x^{-n}) = - L(x^ n) = -n L(x)</script>. Then for <script type="math/tex">m \in {\mathbb {N}}</script>
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(x) = L\Bigl ({(x^{1/m})}^ m\Bigr ) = m L\bigl (x^{1/m}\bigr ) . \end{equation*}</script></span>
<p>
 Putting everything together for <script type="math/tex">n \in {\mathbb {Z}}</script> and <script type="math/tex">m \in {\mathbb {N}}</script>, we have <script type="math/tex">L(x^{n/m}) = n L(x^{1/m}) = (\frac{n}{m}) L(x)</script>. 
</p>
<p>
Uniqueness follows using properties <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:i">1</a> and <a class="ref" href="../introduction_to_real/int-chapter.html#it:log:ii">2</a>. Via the first form of the fundamental theorem of calculus (<a href="#.">Theorem <span>5.27</span></a>), 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  L(x) = \int _1^ x \frac{1}{t}~ dt \end{equation*}</script></span>
<p>
 is the unique function such that <script type="math/tex">L(1) = 0</script> and <script type="math/tex">L'(x) = \frac{1}{x}</script>. 
</p>
</div>
</div>
<p>
Having proved that there is a unique function with these properties, we simply define the <em>logarithm</em> or sometimes called the <em>natural logarithm</em>:  
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \ln (x) := L(x) . \end{equation*}</script></span>
<p>
Mathematicians usually write <script type="math/tex">\log (x)</script> instead of <script type="math/tex">\ln (x)</script>, which is more familiar to calculus students. For all practical purposes, there is only one logarithm: the natural logarithm. See <a href="#.">Exercise <span>5.45</span></a>. 
</p>
</section><section class="subsection">
<h3 id="a0000001090">5.4.2 The exponential</h3>
<p>
<a id="a0000001091" name="a0000001091"></a>
</p>
<p>
Just as with the logarithm we define the exponential via a list of properties. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001092">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.35</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
There exists a unique function <script type="math/tex">E \colon {\mathbb {R}}\to (0,\infty )</script> such that 
</p>
<ol class="enumerate" id="a0000001093" style="list-style: none">
<li id="it:exp:i" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<p>
<script type="math/tex">E(0) = 1</script>. 
</p>
</li>
<li id="it:exp:ii" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
<script type="math/tex">E</script> is differentiable and <script type="math/tex">E'(x) = E(x)</script>. 
</p>
</li>
<li id="it:exp:iii" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(iii)
	</span>
<p>
<script type="math/tex">E</script> is strictly increasing, bijective, and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x\to -\infty } E(x) = 0 , \qquad \text{and} \qquad \lim _{x\to \infty } E(x) = \infty . \end{equation*}</script></span>
</li>
<li id="it:exp:iv" value="4">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(iv)
	</span>
<p>
<script type="math/tex">E(x+y) = E(x)E(y)</script> for all <script type="math/tex">x,y \in {\mathbb {R}}</script>. 
</p>
</li>
<li id="it:exp:v" value="5">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(v)
	</span>
<p>
 If <script type="math/tex">q \in {\mathbb {Q}}</script>, then <script type="math/tex">E(qx) = {E(x)}^ q</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001094">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Again, we prove existence of such a function by defining a candidate and proving that it satisfies all the properties. The <script type="math/tex">L = \ln </script> defined above is invertible. Let <script type="math/tex">E</script> be the inverse function of <script type="math/tex">L</script>. Property <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:i">1</a> is immediate. 
</p>
<p>
Property <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:ii">2</a> follows via the inverse function theorem, in particular <a href="#.">Lemma <span>4.26</span></a>: <script type="math/tex">L</script> satisfies all the hypotheses of the lemma, and hence 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  E’(x) = \frac{1}{L'\bigl (E(x)\bigr )} = E(x) . \end{equation*}</script></span>
<p>
Let us look at property <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:iii">3</a>. The function <script type="math/tex">E</script> is strictly increasing since <script type="math/tex">E'(x) = E(x) > 0</script>. As <script type="math/tex">E</script> is the inverse of <script type="math/tex">L</script>, it must also be bijective. To find the limits, we use that <script type="math/tex">E</script> is strictly increasing and onto <script type="math/tex">(0,\infty )</script>. For every <script type="math/tex">M > 0</script>, there is an <script type="math/tex">x_0</script> such that <script type="math/tex">E(x_0) = M</script> and <script type="math/tex">E(x) \geq M</script> for all <script type="math/tex">x \geq x_0</script>. Similarly, for every <script type="math/tex">\epsilon > 0</script>, there is an <script type="math/tex">x_0</script> such that <script type="math/tex">E(x_0) = \epsilon </script> and <script type="math/tex">E(x) < \epsilon </script> for all <script type="math/tex">x < x_0</script>. Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{n\to -\infty } E(x) = 0 , \qquad \text{and} \qquad \lim _{n\to \infty } E(x) = \infty . \end{equation*}</script></span>
<p>
To prove property <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:iv">4</a>, we use the corresponding property for the logarithm. Take <script type="math/tex">x, y \in {\mathbb {R}}</script>. As <script type="math/tex">L</script> is bijective, find <script type="math/tex">a</script> and <script type="math/tex">b</script> such that <script type="math/tex">x = L(a)</script> and <script type="math/tex">y = L(b)</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  E(x+y) = E\bigl (L(a)+L(b)\bigr ) = E\bigl (L(ab)\bigr ) = ab = E(x)E(y) . \end{equation*}</script></span>
<p>
Property <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:v">5</a> also follows from the corresponding property of <script type="math/tex">L</script>. Given <script type="math/tex">x \in {\mathbb {R}}</script>, let <script type="math/tex">a</script> be such that <script type="math/tex">x = L(a)</script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  E(qx) = E\bigl (qL(a)\bigr ) = E\bigl (L(a^ q)\bigr ) = a^ q = {E(x)}^ q . \end{equation*}</script></span>
<p>
Uniqueness follows from <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:i">1</a> and <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:ii">2</a>. Let <script type="math/tex">E</script> and <script type="math/tex">F</script> be two functions satisfying <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:i">1</a> and <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:ii">2</a>. 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{d}{dx} \Bigl ( F(x)E(-x) \Bigr ) = F’(x)E(-x) - E’(-x)F(x) = F(x)E(-x) - E(-x)F(x) = 0 . \end{equation*}</script></span>
<p>
 Therefore, by <a href="#.">Proposition <span>4.16</span></a>, <script type="math/tex">F(x)E(-x) = F(0)E(-0) = 1</script> for all <script type="math/tex">x \in {\mathbb {R}}</script>. Next, <script type="math/tex">1 = E(0) = E(x-x) = E(x)E(-x)</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  0 = 1-1 = F(x)E(-x) - E(x)E(-x) = \bigl (F(x)-E(x)\bigr ) E(-x) . \end{equation*}</script></span>
<p>
 Finally, <script type="math/tex">E(-x) \not= 0</script><a class="footnote" href="#a0000001095">
<sup class="footnotemark">5</sup>
</a> for all <script type="math/tex">x \in {\mathbb {R}}</script>. So <script type="math/tex">F(x)-E(x) = 0</script> for all <script type="math/tex">x</script>, and we are done. 
</p>
</div>
</div>
<p>
Having proved <script type="math/tex">E</script> is unique, we define the <em>exponential</em> function as  
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \exp (x) := E(x) . \end{equation*}</script></span>
<p>
If <script type="math/tex">y \in {\mathbb {Q}}</script> and <script type="math/tex">x > 0</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  x^ y = \exp \bigl (\ln (x^ y)\bigr ) = \exp \bigl (y\ln (x)\bigr ) . \end{equation*}</script></span>
<p>
 We can now make sense of exponentiation <script type="math/tex">x^ y</script> for arbitrary <script type="math/tex">y \in {\mathbb {R}}</script>; if <script type="math/tex">x > 0</script> and <script type="math/tex">y</script> is irrational, define  
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  x^ y := \exp \bigl (y\ln (x)\bigr ) . \end{equation*}</script></span>
<p>
 As <script type="math/tex">\exp </script> is continuous, then <script type="math/tex">x^ y</script> is a continuous function of <script type="math/tex">y</script>. Therefore, we would obtain the same result had we taken a sequence of rational numbers <script type="math/tex">\{  y_ n \} </script> approaching <script type="math/tex">y</script> and defined <script type="math/tex">x^ y = \lim \,  x^{y_ n}</script>. 
</p>
<p>
Define the number <script type="math/tex">e</script>, sometimes called <em>Euler’s number</em> or the <em>base of the natural logarithm</em>, as  
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  e := \exp (1) . \end{equation*}</script></span>
<p>
 Let us justify the notation <script type="math/tex">e^ x</script> for <script type="math/tex">\exp (x)</script>: 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  e^ x = \exp \bigl (x \ln (e) \bigr ) = \exp (x) . \end{equation*}</script></span>
<p>
The properties of the logarithm and the exponential extend to irrational powers. The proof is immediate. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001096">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.36</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
Let <script type="math/tex">x, y \in {\mathbb {R}}</script>. 
</p>
<ol class="enumerate" id="a0000001097" style="list-style: none">
<li id="a0000001098" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<p>
<script type="math/tex">\exp (xy) = {\bigl (\exp (x)\bigr )}^ y</script>. 
</p>
</li>
<li id="a0000001099" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
If <script type="math/tex">x > 0</script>, then <script type="math/tex">\ln (x^ y) = y \ln (x)</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper remark_thmwrapper" id="a0000001100">
<div class="thmheading remark_thmheading">
<span class="thmcaption remark_thmcaption">
    Remark
    </span>
<span class="thmlabel remark_thmlabel">5.37</span>
</div>
<div class="thmcontent remark_thmcontent">
<p>
There are other equivalent ways to define the exponential and the logarithm. A common way is to define <script type="math/tex">E</script> as the solution to the differential equation <script type="math/tex">E'(x) = E(x)</script>, <script type="math/tex">E(0) = 1</script>. See <a href="#.">Example <span>None</span></a>, for a sketch of that approach. Yet another approach is to define the exponential function by power series, see <a href="#.">Example <span>None</span></a>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper remark_thmwrapper" id="a0000001101">
<div class="thmheading remark_thmheading">
<span class="thmcaption remark_thmcaption">
    Remark
    </span>
<span class="thmlabel remark_thmlabel">5.38</span>
</div>
<div class="thmcontent remark_thmcontent">
<p>
We proved the uniqueness of the functions <script type="math/tex">L</script> and <script type="math/tex">E</script> from just the properties <script type="math/tex">L(1)=0</script>, <script type="math/tex">L'(x) = \frac{1}{x}</script> and the equivalent condition for the exponential <script type="math/tex">E'(x) = E(x)</script>, <script type="math/tex">E(0) = 1</script>. Existence also follows from just these properties. Alternatively, uniqueness also follows from the laws of exponents, see the exercises. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001102">5.4.3 Exercises</h3>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001103">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.44</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Given a real number <script type="math/tex">y</script> and <script type="math/tex">b > 0</script>, define <script type="math/tex">f \colon (0,\infty ) \to {\mathbb {R}}</script> and <script type="math/tex">g \colon {\mathbb {R}}\to {\mathbb {R}}</script> as <script type="math/tex">f(x) := x^ y</script> and <script type="math/tex">g(x) := b^ x</script>. Show that <script type="math/tex">f</script> and <script type="math/tex">g</script> are differentiable and find their derivative. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:otherlogbases">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.45</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Let <script type="math/tex">b > 0</script>, <script type="math/tex">b\neq 1</script> be given. 
</p>
<ol class="enumerate" id="a0000001104" style="list-style: none">
<li id="a0000001105" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show that for every <script type="math/tex">y > 0</script>, there exists a unique number <script type="math/tex">x</script> such that <script type="math/tex">y = b^ x</script>. Define the <em>logarithm base <script type="math/tex">b</script></em>, <script type="math/tex">\log _ b \colon (0,\infty ) \to {\mathbb {R}}</script>, by <script type="math/tex">\log _ b(y) := x</script>. 
</p>
</li>
<li id="a0000001106" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Show that <script type="math/tex">\log _ b(x) = \frac{\ln (x)}{\ln (b)}</script>. 
</p>
</li>
<li id="a0000001107" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		c)
	</span>
<p>
Prove that if <script type="math/tex">c > 0</script>, <script type="math/tex">c \neq 1</script>, then <script type="math/tex">\log _ b(x) = \frac{\log _ c(x)}{\log _ c(b)}</script>. 
</p>
</li>
<li id="a0000001108" value="4">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		d)
	</span>
<p>
Prove <script type="math/tex">\log _ b(xy) = \log _ b(x)+\log _ b(y)</script>, and <script type="math/tex">\log _ b(x^ y) = y \log _ b(x)</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001109">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.46</span>
<span class="thmtitle exercise_thmtitle">(requires <a href="#.">§<span>4.3</span></a>)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Use <a href="#.">Taylor’s theorem</a> to study the remainder term and show that for all <script type="math/tex">x \in {\mathbb {R}}</script>
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  e^ x = \sum _{n=0}^\infty \frac{x^ n}{n!} . \end{equation*}</script></span>
<p>
 Hint: Do not differentiate the series term by term (unless you would prove that it works). 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001110">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.47</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Use the geometric sum formula to show (for <script type="math/tex">t\not= -1</script>) 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  1-t+t^2-\cdots +{(-1)}^ n t^ n = \frac{1}{1+t} - \frac{{(-1)}^{n+1}t^{n+1}}{1+t}. \end{equation*}</script></span>
<p>
 Using this fact show 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \ln (1+x) = \sum _{n=1}^\infty \frac{{(-1)}^{n+1}x^ n}{n} \end{equation*}</script></span>
<p>
 for all <script type="math/tex">x \in (-1,1]</script> (note that <script type="math/tex">x=1</script> is included). Finally, find the limit of the alternating harmonic series 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{n=1}^\infty \frac{{(-1)}^{n+1}}{n} = 1 - \frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \cdots \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001111">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.48</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Show 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  e^ x = \lim _{n\to \infty } {\left( 1 + \frac{x}{n} \right)}^ n . \end{equation*}</script></span>
<p>
 Hint: Take the logarithm.<br/>Note: The expression <script type="math/tex">{\left( 1 + \frac{x}{n} \right)}^ n</script> arises in compound interest calculations. It is the amount of money in a bank account after 1 year if 1 dollar was deposited initially at interest <script type="math/tex">x</script> and the interest was compounded <script type="math/tex">n</script> times during the year. The exponential <script type="math/tex">e^ x</script> is the result of continuous compounding. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001112">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.49</span>
</div>
<div class="thmcontent exercise_thmcontent">
<ol class="enumerate" id="a0000001113" style="list-style: none">
<li id="a0000001114" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Prove that for <script type="math/tex">n \in {\mathbb {N}}</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{k=2}^{n} \frac{1}{k} \leq \ln (n) \leq \sum _{k=1}^{n-1} \frac{1}{k} . \end{equation*}</script></span>
</li>
<li id="a0000001115" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Prove that the limit 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \gamma := \lim _{n\to \infty } \left( \left( \sum _{k=1}^{n} \frac{1}{k} \right) - \ln (n) \right) \end{equation*}</script></span>
<p>
 exists. This constant is known as the <em>Euler–Mascheroni constant</em><a class="footnote" href="#a0000001116">
<sup class="footnotemark">6</sup>
</a>. It is not known if this constant is rational or not. It is approximately <script type="math/tex">\gamma \approx 0.5772</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001117">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.50</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Show 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x\to \infty } \frac{\ln (x)}{x} = 0 . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001118">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.51</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Show that <script type="math/tex">e^ x</script> is <em>convex</em>, in other words, show that if <script type="math/tex">a \leq x \leq b</script>, then <script type="math/tex">e^ x \leq e^ a \frac{b-x}{b-a} + e^ b \frac{x-a}{b-a}</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001119">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.52</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Using the logarithm find 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{n\to \infty } n^{1/n} . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001120">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.53</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Show that <script type="math/tex">E(x) = e^ x</script> is the unique continuous function such that <script type="math/tex">E(x+y) = E(x)E(y)</script> and <script type="math/tex">E(1) = e</script>. Similarly, prove that <script type="math/tex">L(x) = \ln (x)</script> is the unique continuous function defined on positive <script type="math/tex">x</script> such that <script type="math/tex">L(xy) = L(x)+L(y)</script> and <script type="math/tex">L(e) = 1</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="exercise:nonanalytic">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.54</span>
<span class="thmtitle exercise_thmtitle">(requires <a href="#.">§<span>4.3</span></a>)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Since <script type="math/tex">(e^ x)' = e^ x</script>, it is easy to see that <script type="math/tex">e^ x</script> is infinitely differentiable<a id="a0000001121" name="a0000001121"></a> (has derivatives of all orders). Define the function <script type="math/tex">f \colon {\mathbb {R}}\to {\mathbb {R}}</script>. 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  f(x) := \begin{cases}  e^{-1/x} &  \text{if } x > 0, \\ 0 &  \text{if } x \leq 0. \end{cases}\end{equation*}</script></span>
<ol class="enumerate" id="a0000001122" style="list-style: none">
<li id="a0000001123" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Prove that for every <script type="math/tex">m \in {\mathbb {N}}</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x \to 0^+} \frac{e^{-1/x}}{x^ m} = 0 . \end{equation*}</script></span>
</li>
<li id="a0000001124" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Prove that <script type="math/tex">f</script> is infinitely differentiable. 
</p>
</li>
<li id="a0000001125" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		c)
	</span>
<p>
Compute the Taylor series for <script type="math/tex">f</script> at the origin, that is, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{k=0}^\infty \frac{f^{(k)}(0)}{k!}x^ k . \end{equation*}</script></span>
<p>
 Show that it converges, but show that it does not converge to <script type="math/tex">f(x)</script> for any given <script type="math/tex">x > 0</script>. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<br/>
</p>
</section>
</section><section class="section">
<h2 id="sec:impropriemann">5.5 Improper integrals</h2>
<p>
Often it is necessary to integrate over the entire real line, or an unbounded interval of the form <script type="math/tex">[a,\infty )</script> or <script type="math/tex">(-\infty ,b]</script>. We may also wish to integrate unbounded functions defined on a open bounded interval <script type="math/tex">(a,b)</script>. For such intervals or functions, the Riemann integral is not defined, but we will write down the integral anyway in the spirit of <a href="#.">Lemma <span>5.23</span></a>. These integrals are called <em>improper integrals</em> and are limits of integrals rather than integrals themselves. 
</p>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000001126">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.39</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [a,b) \to {\mathbb {R}}</script> is a function (not necessarily bounded) that is Riemann integrable on <script type="math/tex">[a,c]</script> for all <script type="math/tex">c < b</script>. We define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f := \lim _{c \to b^-} \int _ a^{c} f \end{equation*}</script></span>
<p>
 if the limit exists. 
</p>
<p>
Suppose <script type="math/tex">f \colon [a,\infty ) \to {\mathbb {R}}</script> is a function such that <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,c]</script> for all <script type="math/tex">c < \infty </script>. We define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^\infty f := \lim _{c \to \infty } \int _ a^ c f \end{equation*}</script></span>
<p>
 if the limit exists. 
</p>
<p>
If the limit exists, we say the improper integral <em>converges</em><a id="a0000001127" name="a0000001127"></a>. If the limit does not exist, we say the improper integral <em>diverges</em><a id="a0000001128" name="a0000001128"></a>. 
</p>
<p>
We similarly define improper integrals for the left-hand endpoint, we leave this to the reader. 
</p>
</div>
</div>
</p>
<p>
For a finite endpoint <script type="math/tex">b</script>, if <script type="math/tex">f</script> is bounded, then <a href="#.">Lemma <span>5.23</span></a> says that we defined nothing new. What is new is that we can apply this definition to unbounded functions. The following set of examples is so useful that we state it as a proposition. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="impropriemann:ptest">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.40</span>
<span class="thmtitle prop_thmtitle">(<script type="math/tex">p</script>-test for integrals)</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
<a id="a0000001129" name="a0000001129"></a>  The improper integral 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _1^\infty \frac{1}{x^ p} ~ dx \end{equation*}</script></span>
<p>
 converges to <script type="math/tex">\frac{1}{p-1}</script> if <script type="math/tex">p > 1</script> and diverges if <script type="math/tex">0 < p \leq 1</script>. 
</p>
<p>
The improper integral 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _0^1 \frac{1}{x^ p} ~ dx \end{equation*}</script></span>
<p>
 converges to <script type="math/tex">\frac{1}{1-p}</script> if <script type="math/tex">0 < p < 1</script> and diverges if <script type="math/tex">p \geq 1</script>. 
</p>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001130">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
The proof follows by application of the <a href="#.">fundamental theorem of calculus</a>. Let us do the proof for <script type="math/tex">p > 1</script> for the infinite right endpoint and leave the rest to the reader. Hint: You should handle <script type="math/tex">p=1</script> separately. 
</p>
<p>
Suppose <script type="math/tex">p > 1</script>. Then using the fundamental theorem, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _1^ b \frac{1}{x^ p} ~ dx = \int _1^ b x^{-p} ~ dx = \frac{b^{-p+1}}{-p+1} - \frac{1^{-p+1}}{-p+1} = \frac{-1}{(p-1)b^{p-1}} + \frac{1}{p-1} . \end{equation*}</script></span>
<p>
 As <script type="math/tex">p > 1</script>, then <script type="math/tex">p-1 > 0</script>. Take the limit as <script type="math/tex">b \to \infty </script> to obtain that <script type="math/tex">\frac{1}{b^{p-1}}</script> goes to 0. The result follows. 
</p>
</div>
</div>
<p>
We state the following proposition on “tails” for just one type of improper integral, though the proof is straight forward and the same for other types of improper integrals. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="impropriemann:tail">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.41</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,\infty ) \to {\mathbb {R}}</script> be a function that is Riemann integrable on <script type="math/tex">[a,b]</script> for all <script type="math/tex">b > a</script>. For every <script type="math/tex">b > a</script>, the integral <script type="math/tex">\int _ b^\infty f</script> converges if and only if <script type="math/tex">\int _ a^\infty f</script> converges, in which case 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^\infty f = \int _ a^ b f + \int _ b^\infty f . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001131">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">c > b</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ c f = \int _ a^ b f + \int _ b^ c f . \end{equation*}</script></span>
<p>
 Taking the limit <script type="math/tex">c \to \infty </script> finishes the proof. 
</p>
</div>
</div>
<p>
Nonnegative functions are easier to work with as the following proposition demonstrates. The exercises will show that this proposition holds only for nonnegative functions. Analogues of this proposition exist for all the other types of improper limits and are left to the student. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="impropriemann:possimp">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.42</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Suppose <script type="math/tex">f \colon [a,\infty ) \to {\mathbb {R}}</script> is nonnegative (<script type="math/tex">f(x) \geq 0</script> for all <script type="math/tex">x</script>) and such that <script type="math/tex">f</script> is Riemann integrable on <script type="math/tex">[a,b]</script> for all <script type="math/tex">b > a</script>. 
</p>
<ol class="enumerate" id="a0000001132" style="list-style: none">
<li id="a0000001133" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^\infty f = \sup \left\{  \int _ a^ x f : x \geq a \right\}  . \end{equation*}</script></span>
</li>
<li id="a0000001134" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
Suppose <script type="math/tex">\{  x_ n \} </script> is a sequence with <script type="math/tex">\lim \,  x_ n = \infty </script>. Then <script type="math/tex">\int _ a^\infty f</script> converges if and only if <script type="math/tex">\lim \,  \int _ a^{x_ n} f</script> exists, in which case 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^\infty f = \lim _{n\to \infty } \int _ a^{x_ n} f . \end{equation*}</script></span>
</li>
</ol>
</div>
</div>
</p>
<p>
In the first item we allow for the value of <script type="math/tex">\infty </script> in the supremum indicating that the integral diverges to infinity. 
</p>
<div class="proof_wrapper" id="a0000001135">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
We start with the first item. As <script type="math/tex">f</script> is nonnegative, <script type="math/tex">\int _ a^ x f</script> is increasing as a function of <script type="math/tex">x</script>. If the supremum is infinite, then for every <script type="math/tex">M \in {\mathbb {R}}</script> we find <script type="math/tex">N</script> such that <script type="math/tex">\int _ a^ N f \geq M</script>. As <script type="math/tex">\int _ a^ x f</script> is increasing, <script type="math/tex">\int _ a^ x f \geq M</script> for all <script type="math/tex">x \geq N</script>. So <script type="math/tex">\int _ a^\infty f</script> diverges to infinity. 
</p>
<p>
Next suppose the supremum is finite, say <script type="math/tex">A := \sup \left\{  \int _ a^ x f : x \geq a \right\} </script>. For every <script type="math/tex">\epsilon > 0</script>, we find an <script type="math/tex">N</script> such that <script type="math/tex">A - \int _ a^ N f < \epsilon </script>. As <script type="math/tex">\int _ a^ x f</script> is increasing, then <script type="math/tex">A - \int _ a^ x f < \epsilon </script> for all <script type="math/tex">x \geq N</script> and hence <script type="math/tex">\int _ a^\infty f</script> converges to <script type="math/tex">A</script>. 
</p>
<p>
Let us look at the second item. If <script type="math/tex">\int _ a^\infty f</script> converges, then every sequence <script type="math/tex">\{  x_ n \} </script> going to infinity works. The trick is proving the other direction. Suppose <script type="math/tex">\{  x_ n \} </script> is such that <script type="math/tex">\lim \,  x_ n = \infty </script> and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{n\to \infty } \int _ a^{x_ n} f = A \end{equation*}</script></span>
<p>
 converges. Given <script type="math/tex">\epsilon > 0</script>, pick <script type="math/tex">N</script> such that for all <script type="math/tex">n \geq N</script>, we have <script type="math/tex">A - \epsilon < \int _ a^{x_ n} f < A + \epsilon </script>. Because <script type="math/tex">\int _ a^ x f</script> is increasing as a function of <script type="math/tex">x</script>, we have that for all <script type="math/tex">x \geq x_ N</script>
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  A - \epsilon < \int _ a^{x_ N} f \leq \int _ a^ x f . \end{equation*}</script></span>
<p>
 As <script type="math/tex">\{  x_ n \} </script> goes to <script type="math/tex">\infty </script>, then for any given <script type="math/tex">x</script>, there is an <script type="math/tex">x_ m</script> such that <script type="math/tex">m \geq N</script> and <script type="math/tex">x \leq x_ m</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^{x} f \leq \int _ a^{x_ m} f < A + \epsilon . \end{equation*}</script></span>
<p>
 In particular, for all <script type="math/tex">x \geq x_ N</script>, we have <script type="math/tex">\left\lvert {\int _ a^{x} f - A} \right\rvert  < \epsilon </script>. 
</p>
</div>
</div>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001136">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.43</span>
<span class="thmtitle prop_thmtitle">(Comparison test for improper integrals)</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
 Let <script type="math/tex">f \colon [a,\infty ) \to {\mathbb {R}}</script> and <script type="math/tex">g \colon [a,\infty ) \to {\mathbb {R}}</script> be functions that are Riemann integrable on <script type="math/tex">[a,b]</script> for all <script type="math/tex">b > a</script>. Suppose that for all <script type="math/tex">x \geq a</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {f(x)} \right\rvert  \leq g(x) . \end{equation*}</script></span>
<ol class="enumerate" id="a0000001137" style="list-style: none">
<li id="a0000001138" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(i)
	</span>
<p>
If <script type="math/tex">\int _ a^\infty g</script> converges, then <script type="math/tex">\int _ a^\infty f</script> converges, and in this case <script type="math/tex">\left\lvert {\int _ a^\infty f} \right\rvert  \leq \int _ a^\infty g</script>. 
</p>
</li>
<li id="a0000001139" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		(ii)
	</span>
<p>
If <script type="math/tex">\int _ a^\infty f</script> diverges, then <script type="math/tex">\int _ a^\infty g</script> diverges. 
</p>
</li>
</ol>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001140">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
We start with the first item. For every <script type="math/tex">b</script> and <script type="math/tex">c</script>, such that <script type="math/tex">a \leq b \leq c</script>, we have <script type="math/tex">-g(x) \leq f(x) \leq g(x)</script>, and so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ b^ c -g \leq \int _ b^ c f \leq \int _ b^ c g . \end{equation*}</script></span>
<p>
 In other words, <script type="math/tex">\left\lvert {\int _ b^ c f} \right\rvert  \leq \int _ b^ c g</script>. 
</p>
<p>
Let <script type="math/tex">\epsilon > 0</script> be given. Because of <a href="#.">Proposition <span>5.41</span></a>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^\infty g = \int _ a^ b g + \int _ b^\infty g . \end{equation*}</script></span>
<p>
 As <script type="math/tex">\int _ a^ b g</script> goes to <script type="math/tex">\int _ a^\infty g</script> as <script type="math/tex">b</script> goes to infinity, <script type="math/tex">\int _ b^\infty g</script> goes to 0 as <script type="math/tex">b</script> goes to infinity. Choose <script type="math/tex">B</script> such that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ B^\infty g < \epsilon . \end{equation*}</script></span>
<p>
 As <script type="math/tex">g</script> is nonnegative, if <script type="math/tex">B \leq b < c</script>, then <script type="math/tex">\int _ b^ c g < \epsilon </script> as well. Let <script type="math/tex">\{  x_ n \} </script> be a sequence going to infinity. Let <script type="math/tex">M</script> be such that <script type="math/tex">x_ n \geq B</script> for all <script type="math/tex">n \geq M</script>. Take <script type="math/tex">n, m \geq M</script>, with <script type="math/tex">x_ n \leq x_ m</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\int _ a^{x_ m} f - \int _ a^{x_ n} f} \right\rvert  = \left\lvert {\int _{x_ n}^{x_ m} f} \right\rvert  \leq \int _{x_ n}^{x_ m} g < \epsilon . \end{equation*}</script></span>
<p>
 Therefore, the sequence <script type="math/tex">\{  \int _ a^{x_ n} f \} _{n=1}^\infty </script> is Cauchy and hence converges. 
</p>
<p>
We need to show that the limit is unique. Suppose <script type="math/tex">\{  x_ n \} </script> is a sequence converging to infinity such that <script type="math/tex">\{  \int _ a^{x_ n} f \} </script> converges to <script type="math/tex">L_1</script>, and <script type="math/tex">\{  y_ n \} </script> is a sequence converging to infinity is such that <script type="math/tex">\{  \int _ a^{y_ n} f \} </script> converges to <script type="math/tex">L_2</script>. Then there must be some <script type="math/tex">n</script> such that <script type="math/tex">\left\lvert {\int _ a^{x_ n} f - L_1} \right\rvert  < \epsilon </script> and <script type="math/tex">\left\lvert {\int _ a^{y_ n} f - L_2} \right\rvert  < \epsilon </script>. We can also suppose <script type="math/tex">x_ n \geq B</script> and <script type="math/tex">y_ n \geq B</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {L_1 - L_2} \right\rvert  \leq \left\lvert {L_1 - \int _ a^{x_ n} f} \right\rvert  + \left\lvert {\int _ a^{x_ n} f- \int _ a^{y_ n} f} \right\rvert  + \left\lvert {\int _ a^{y_ n} f - L_2} \right\rvert  < \epsilon + \left\lvert {\int _{x_ n}^{y_ n} f} \right\rvert  + \epsilon < 3 \epsilon . \end{equation*}</script></span>
<p>
 As <script type="math/tex">\epsilon > 0</script> was arbitrary, <script type="math/tex">L_1 = L_2</script>, and hence <script type="math/tex">\int _ a^\infty f</script> converges. Above we have shown that <script type="math/tex">\left\lvert {\int _ a^ c f} \right\rvert  \leq \int _ a^ c g</script> for all <script type="math/tex">c > a</script>. By taking the limit <script type="math/tex">c \to \infty </script>, the first item is proved. 
</p>
<p>
The second item is simply a contrapositive of the first item. 
</p>
</div>
</div>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001141">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.44</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
The improper integral 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _0^\infty \frac{\sin (x^2)(x+2)}{x^3+1} ~ dx \end{equation*}</script></span>
<p>
 converges. 
</p>
<p>
Proof: Observe we simply need to show that the integral converges when going from 1 to infinity. For <script type="math/tex">x \geq 1</script> we obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\frac{\sin (x^2)(x+2)}{x^3+1}} \right\rvert  \leq \frac{x+2}{x^3+1} \leq \frac{x+2}{x^3} \leq \frac{x+2x}{x^3} \leq \frac{3}{x^2} . \end{equation*}</script></span>
<p>
 Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _1^\infty \frac{3}{x^2}~ dx = 3 \int _1^\infty \frac{1}{x^2}~ dx = 3 . \end{equation*}</script></span>
<p>
 So using the comparison test and the tail test, the original integral converges. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001142">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.45</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
You should be careful when doing formal manipulations with improper integrals. The integral 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _2^\infty \frac{2}{x^2-1}~ dx \end{equation*}</script></span>
<p>
 converges via the comparison test using <script type="math/tex">\frac{1}{x^2}</script> again. However, if you succumb to the temptation to write 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{2}{x^2-1} = \frac{1}{x-1} - \frac{1}{x+1} \end{equation*}</script></span>
<p>
 and try to integrate each part separately, you will not succeed. It is <em>not</em> true that you can split the improper integral in two; you cannot split the limit. 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \int _2^\infty \frac{2}{x^2-1} ~ dx & = \lim _{b\to \infty } \int _2^ b \frac{2}{x^2-1} ~ dx \\ & = \lim _{b\to \infty } \left( \int _2^ b \frac{1}{x-1}~ dx - \int _2^ b \frac{1}{x+1}~ dx \right) \\ & \not= \int _2^\infty \frac{1}{x-1}~ dx - \int _2^\infty \frac{1}{x+1}~ dx . \end{split}\end{equation*}</script></span>
<p>
 The last line in the computation does not even make sense. Both of the integrals there diverge to infinity, since we can apply the comparison test appropriately with <script type="math/tex">\frac{1}{x}</script>. We get <script type="math/tex">\infty - \infty </script>. 
</p>
</div>
</div>
</p>
<p>
Now suppose we need to take limits at both endpoints. 
</p>
<p>
<div class="thmwrapper defn_thmwrapper" id="a0000001143">
<div class="thmheading defn_thmheading">
<span class="thmcaption defn_thmcaption">
    Definition
    </span>
<span class="thmlabel defn_thmlabel">5.46</span>
</div>
<div class="thmcontent defn_thmcontent">
<p>
Suppose <script type="math/tex">f \colon (a,b) \to {\mathbb {R}}</script> is a function that is Riemann integrable on <script type="math/tex">[c,d]</script> for all <script type="math/tex">c</script>, <script type="math/tex">d</script> such that <script type="math/tex">a < c < d < b</script>, then we define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ a^ b f := \lim _{c \to a^+} \,  \lim _{d \to b^-} \,  \int _{c}^{d} f \end{equation*}</script></span>
<p>
 if the limits exist. 
</p>
<p>
Suppose <script type="math/tex">f \colon {\mathbb {R}}\to {\mathbb {R}}</script> is a function such that <script type="math/tex">f</script> is Riemann integrable on all bounded intervals <script type="math/tex">[a,b]</script>. Then we define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-\infty }^\infty f := \lim _{c \to -\infty } \,  \lim _{d \to \infty } \,  \int _ c^ d f \end{equation*}</script></span>
<p>
 if the limits exist. 
</p>
<p>
We similarly define improper integrals with one infinite and one finite improper endpoint, we leave this to the reader. 
</p>
</div>
</div>
</p>
<p>
One ought to always be careful about double limits. The definition given above says that we first take the limit as <script type="math/tex">d</script> goes to <script type="math/tex">b</script> or <script type="math/tex">\infty </script> for a fixed <script type="math/tex">c</script>, and then we take the limit in <script type="math/tex">c</script>. We will have to prove that in this case it does not matter which limit we compute first. 
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001144">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.47</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
Let us see an example: 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-\infty }^\infty \frac{1}{1+x^2} ~  dx = \lim _{a \to -\infty } \,  \lim _{b \to \infty } \,  \int _{a}^ b \frac{1}{1+x^2} ~  dx = \lim _{a \to -\infty } \,  \lim _{b \to \infty } \bigl ( \arctan (b) - \arctan (a) \bigr ) = \pi . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
In the definition the order of the limits can always be switched if they exist. Let us prove this fact only for the infinite limits. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001145">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.48</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
If <script type="math/tex">f \colon {\mathbb {R}}\to {\mathbb {R}}</script> is a function integrable on every bounded interval <script type="math/tex">[a,b]</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{a \to -\infty } \,  \lim _{b \to \infty } \,  \int _ a^ b f \quad \text{converges} \qquad \text{if and only if} \qquad \lim _{b \to \infty } \,  \lim _{a \to -\infty } \,  \int _ a^ b f \quad \text{converges,} \end{equation*}</script></span>
<p>
 in which case the two expressions are equal. If either of the expressions converges, then the improper integral converges and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{a\to \infty } \int _{-a}^ a f = \int _{-\infty }^\infty f . \end{equation*}</script></span>
</div>
</div>
</p>
<div class="proof_wrapper" id="a0000001146">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Without loss of generality assume <script type="math/tex">a < 0</script> and <script type="math/tex">b > 0</script>. Suppose the first expression converges. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \lim _{a \to -\infty } \,  \lim _{b \to \infty } \,  \int _ a^ b f &  = \lim _{a \to -\infty } \,  \lim _{b \to \infty } \left( \int _ a^0 f + \int _0^ b f \right) = \left( \lim _{a \to -\infty } \int _ a^0 f \right) + \left( \lim _{b \to \infty } \int _0^ b f \right) \\ &  = \lim _{b \to \infty } \left( \left( \lim _{a \to -\infty } \int _ a^0 f \right) + \int _0^ b f \right) = \lim _{b \to \infty } \,  \lim _{a \to -\infty } \left( \int _ a^0 f + \int _0^ b f \right) . \end{split}\end{equation*}</script></span>
<p>
 Similar computation shows the other direction. Therefore, if either expression converges, then the improper integral converges and 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*} \begin{split}  \int _{-\infty }^\infty f = \lim _{a \to -\infty } \,  \lim _{b \to \infty } \,  \int _ a^ b f &  = \left( \lim _{a \to -\infty } \int _ a^0 f \right) + \left( \lim _{b \to \infty } \int _0^ b f \right) \\ &  = \left( \lim _{a \to \infty } \int _{-a}^0 f \right) + \left( \lim _{a \to \infty } \int _0^ a f \right) = \lim _{a \to \infty } \left( \int _{-a}^0 f + \int _0^ a f \right) = \lim _{a \to \infty } \int _{-a}^ a f . \end{split}\end{equation*}</script></span>
</div>
</div>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001147">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.49</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
On the other hand, you must be careful to take the limits independently before you know convergence. Let <script type="math/tex">f(x) = \frac{x}{\left\lvert {x} \right\rvert }</script> for <script type="math/tex">x \not= 0</script> and <script type="math/tex">f(0) = 0</script>. If <script type="math/tex">a < 0</script> and <script type="math/tex">b > 0</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{a}^ b f = \int _{a}^0 f + \int _{0}^ b f = a+b . \end{equation*}</script></span>
<p>
 For every fixed <script type="math/tex">a < 0</script>, the limit as <script type="math/tex">b \to \infty </script> is infinite. So even the first limit does not exist, and the improper integral <script type="math/tex">\int _{-\infty }^\infty f</script> does not converge. On the other hand, if <script type="math/tex">a > 0</script>, then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-a}^{a} f = (-a)+a = 0 . \end{equation*}</script></span>
<p>
 Therefore, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{a\to \infty } \int _{-a}^{a} f = 0 . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001148">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.50</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
An example to keep in mind for improper integrals is the so-called <em>sinc function</em><a class="footnote" href="#a0000001149">
<sup class="footnotemark">7</sup>
</a>. This function comes up quite often in both pure and applied mathematics. Define 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \operatorname {sinc}(x) = \begin{cases}  \frac{\sin (x)}{x} &  \text{if } x \not= 0 , \\ 1 &  \text{if } x = 0 . \end{cases}\end{equation*}</script></span>
<p>
<figure id="figsinc">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0093.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.6</span> <span class="caption_text">The sinc function.</span>
</figcaption>
</div>
</figure>
</p>
<p>
It is not difficult to show that the sinc function is continuous at zero, but that is not important right now. What is important is that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-\infty }^\infty \operatorname {sinc}(x) ~ dx = \pi , \qquad \text{while} \qquad \int _{-\infty }^\infty \left\lvert {\operatorname {sinc}(x)} \right\rvert  ~ dx = \infty . \end{equation*}</script></span>
<p>
 The integral of the sinc function is a continuous analogue of the alternating harmonic series <script type="math/tex">\sum \frac{{(-1)}^ n}{n}</script>, while the absolute value is like the regular harmonic series <script type="math/tex">\sum \frac{1}{n}</script>. In particular, the fact that the integral converges must be done directly rather than using comparison test. 
</p>
<p>
We will not prove the first statement exactly. Let us simply prove that the integral of the sinc function converges, but we will not worry about the exact limit. Because <script type="math/tex">\frac{\sin (-x)}{-x} = \frac{\sin (x)}{x}</script>, it is enough to show that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{2\pi }^\infty \frac{\sin (x)}{x}~ dx \end{equation*}</script></span>
<p>
 converges. We also avoid <script type="math/tex">x=0</script> this way to make our life simpler. 
</p>
<p>
For every <script type="math/tex">n \in {\mathbb {N}}</script>, we have that for <script type="math/tex">x \in [\pi 2n, \pi (2n+1)]</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{\sin (x)}{\pi (2n+1)} \leq \frac{\sin (x)}{x} \leq \frac{\sin (x)}{\pi 2n} , \end{equation*}</script></span>
<p>
 as <script type="math/tex">\sin (x) \geq 0</script>. For <script type="math/tex">x \in [\pi (2n+1), \pi (2n+2)]</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{\sin (x)}{\pi (2n+1)} \leq \frac{\sin (x)}{x} \leq \frac{\sin (x)}{\pi (2n+2)} , \end{equation*}</script></span>
<p>
 as <script type="math/tex">\sin (x) \leq 0</script>. 
</p>
<p>
Via the fundamental theorem of calculus, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{2}{\pi (2n+1)} = \int _{\pi 2n}^{\pi (2n+1)} \frac{\sin (x)}{\pi (2n+1)} ~ dx \leq \int _{\pi 2n}^{\pi (2n+1)} \frac{\sin (x)}{x} ~ dx \leq \int _{\pi 2n}^{\pi (2n+1)} \frac{\sin (x)}{\pi 2n} ~ dx = \frac{1}{\pi n} . \end{equation*}</script></span>
<p>
 Similarly, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{-2}{\pi (2n+1)} \leq \int _{\pi (2n+1)}^{\pi (2n+2)} \frac{\sin (x)}{x} ~ dx \leq \frac{-1}{\pi (n+1)} . \end{equation*}</script></span>
<p>
 Adding the two together we find 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  0 = \frac{2}{\pi (2n+1)} + \frac{-2}{\pi (2n+1)} \leq \int _{2\pi n}^{2\pi (n+1)} \frac{\sin (x)}{x} ~ dx \leq \frac{1}{\pi n} + \frac{-1}{\pi (n+1)} = \frac{1}{\pi n(n+1)} . \end{equation*}</script></span>
<p>
 See <a href="#.">Figure <span>5.7</span></a>. <figure id="fig:sincbound">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0095.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.7</span> <span class="caption_text">Bound of <script type="math/tex">\int _{2\pi n}^{2\pi (n+1)} \frac{\sin (x)}{x} ~ dx</script> using the shaded integral (signed area <script type="math/tex">\frac{1}{\pi n} + \frac{-1}{\pi (n+1)}</script>).</span>
</figcaption>
</div>
</figure>
</p>
<p>
For <script type="math/tex">k \in {\mathbb {N}}</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{2\pi }^{2k\pi } \frac{\sin (x)}{x} ~ dx = \sum _{n=1}^{k-1} \int _{2\pi n}^{2\pi (n+1)} \frac{\sin (x)}{x} ~ dx \leq \sum _{n=1}^{k-1} \frac{1}{\pi n(n+1)} . \end{equation*}</script></span>
<p>
 We find the partial sums of a series with positive terms. The series converges as <script type="math/tex">\sum \frac{1}{\pi n (n+1)}</script> is a convergent series. Thus as a sequence, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{k\to \infty } \int _{2\pi }^{2k\pi } \frac{\sin (x)}{x} ~ dx =L \leq \sum _{n=1}^{\infty } \frac{1}{\pi n(n+1)} < \infty . \end{equation*}</script></span>
<p>
Let <script type="math/tex">M > 2\pi </script> be arbitrary, and let <script type="math/tex">k \in {\mathbb {N}}</script> be the largest integer such that <script type="math/tex">2k\pi \leq M</script>. For <script type="math/tex">x \in [2k\pi ,M]</script>, we have <script type="math/tex">\frac{-1}{2k\pi } \leq \frac{\sin (x)}{x} \leq \frac{1}{2k\pi }</script>, and so 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \left\lvert {\int _{2k\pi }^{M} \frac{\sin (x)}{x} ~ dx } \right\rvert  \leq \frac{M-2k\pi }{2k\pi } \leq \frac{1}{k} . \end{equation*}</script></span>
<p>
 As <script type="math/tex">k</script> is the largest <script type="math/tex">k</script> such that <script type="math/tex">2k\pi \leq M</script>, then as <script type="math/tex">M\in {\mathbb {R}}</script> goes to infinity, so does <script type="math/tex">k \in {\mathbb {N}}</script>. 
</p>
<p>
Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{2\pi }^ M \frac{\sin (x)}{x}~ dx = \int _{2\pi }^{2k\pi } \frac{\sin (x)}{x} ~ dx + \int _{2k\pi }^{M} \frac{\sin (x)}{x} ~ dx . \end{equation*}</script></span>
<p>
 As <script type="math/tex">M</script> goes to infinity, the first term on the right-hand side goes to <script type="math/tex">L</script>, and the second term on the right-hand side goes to zero. Hence 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{2\pi }^\infty \frac{\sin (x)}{x} ~ dx = L . \end{equation*}</script></span>
<p>
The double-sided integral of sinc also exists as noted above. We leave the other statement—that the integral of the absolute value of the sinc function diverges—as an exercise. 
</p>
</div>
</div>
</p>
<section class="subsection">
<h3 id="a0000001150">5.5.1 Integral test for series</h3>
<p>
The fundamental theorem of calculus can be used in proving a series is summable and to estimate its sum. 
</p>
<p>
<div class="thmwrapper prop_thmwrapper" id="a0000001151">
<div class="thmheading prop_thmheading">
<span class="thmcaption prop_thmcaption">
    Proposition
    </span>
<span class="thmlabel prop_thmlabel">5.51</span>
<span class="thmtitle prop_thmtitle">(Integral test)</span>
</div>
<div class="thmcontent prop_thmcontent">
<p>
<a id="a0000001152" name="a0000001152"></a> Suppose <script type="math/tex">f \colon [k,\infty ) \to {\mathbb {R}}</script> is a decreasing nonnegative function where <script type="math/tex">k \in {\mathbb {Z}}</script>. Then 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{n=k}^\infty f(n) \quad \text{converges} \qquad \text{if and only if} \qquad \int _ k^\infty f \quad \text{converges}. \end{equation*}</script></span>
<p>
 In this case 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ k^\infty f \leq \sum _{n=k}^\infty f(n) \leq f(k)+ \int _ k^\infty f . \end{equation*}</script></span>
</div>
</div> See <a href="#.">Figure <span>5.8</span></a>, for an illustration with <script type="math/tex">k=1</script>. By <a href="#.">Proposition <span>5.26</span></a>, <script type="math/tex">f</script> is integrable on every interval <script type="math/tex">[k,b]</script> for all <script type="math/tex">b > k</script>, so the statement of the theorem makes sense without additional hypotheses of integrability. <figure id="fig:integraltest">
<div class="centered"><p>
<img src="../introduction_to_real/images/img-0097.png" style="None"/>
</p>
<figcaption>
<span class="caption_title">Figure</span><span class="caption_ref">5.8</span> <span class="caption_text">The area under the curve, <script type="math/tex">\int _1^\infty f</script>, is bounded below by the area of the shaded rectangles, <script type="math/tex">f(2)+f(3)+f(4)+\cdots </script>, and bounded above by the area entire rectangles, <script type="math/tex">f(1)+f(2)+f(3)+\cdots </script>.</span>
</figcaption>
</div>
</figure>
</p>
<div class="proof_wrapper" id="a0000001153">
<div class="proof_heading">
<span class="proof_caption">
    Proof.
    </span>
</div>
<div class="proof_content">
<p>
Let <script type="math/tex">\ell , m \in {\mathbb {Z}}</script> be such that <script type="math/tex">m > \ell \geq k</script>. Because <script type="math/tex">f</script> is decreasing, we have <script type="math/tex">\int _{n}^{n+1} f \leq f(n) \leq \int _{n-1}^{n} f</script>. Therefore, 
</p>
<div class="eqn" id="impropriemann:eqseries">
<script type="math/tex; mode=display">\begin{equation}\label{impropriemann:eqseries} \int _\ell ^ m f = \sum _{n=\ell }^{m-1} \int _{n}^{n+1} f \leq \sum _{n=\ell }^{m-1} f(n) \leq f(\ell ) + \sum _{n=\ell +1}^{m-1} \int _{n-1}^{n} f \leq f(\ell )+ \int _\ell ^{m-1} f .\tag{5.3}\end{equation}</script>
</div>
<p>
Suppose first that <script type="math/tex">\int _ k^\infty f</script> converges and let <script type="math/tex">\epsilon > 0</script> be given. As before, since <script type="math/tex">f</script> is positive, then there exists an <script type="math/tex">L \in {\mathbb {N}}</script> such that if <script type="math/tex">\ell \geq L</script>, then <script type="math/tex">\int _\ell ^{m} f < \frac{\epsilon }{2}</script> for all <script type="math/tex">m \geq \ell </script>. The function <script type="math/tex">f</script> must decrease to zero (why?), so make <script type="math/tex">L</script> large enough so that for <script type="math/tex">\ell \geq L</script>, we have <script type="math/tex">f(\ell ) < \frac{\epsilon }{2}</script>. Thus, for <script type="math/tex">m > \ell \geq L</script>, we have via <a class="ref eqref" href="../introduction_to_real/int-chapter.html#impropriemann:eqseries">(5.3)</a>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \sum _{n=\ell }^{m} f(n) \leq f(\ell )+ \int _\ell ^{m} f < \frac{\epsilon }{2} + \frac{\epsilon }{2} = \epsilon . \end{equation*}</script></span>
<p>
 The series is therefore Cauchy and thus converges. The estimate in the proposition is obtained by letting <script type="math/tex">m</script> go to infinity in <a class="ref eqref" href="../introduction_to_real/int-chapter.html#impropriemann:eqseries">(5.3)</a> with <script type="math/tex">\ell = k</script>. 
</p>
<p>
Conversely, suppose <script type="math/tex">\int _ k^\infty f</script> diverges. As <script type="math/tex">f</script> is positive, then by <a href="#.">Proposition <span>5.42</span></a>, the sequence <script type="math/tex">\{  \int _ k^ m f \} _{m=k}^\infty </script> diverges to infinity. Using <a class="ref eqref" href="../introduction_to_real/int-chapter.html#impropriemann:eqseries">(5.3)</a> with <script type="math/tex">\ell = k</script>, we find 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _ k^ m f \leq \sum _{n=k}^{m-1} f(n) . \end{equation*}</script></span>
<p>
 As the left-hand side goes to infinity as <script type="math/tex">m \to \infty </script>, so does the right-hand side. 
</p>
</div>
</div>
<p>
<div class="thmwrapper example_thmwrapper" id="a0000001154">
<div class="thmheading example_thmheading">
<span class="thmcaption example_thmcaption">
    Example
    </span>
<span class="thmlabel example_thmlabel">5.52</span>
</div>
<div class="thmcontent example_thmcontent">
<p>
The integral test can be used not only to show that a series converges, but to estimate its sum to arbitrary precision. Let us show <script type="math/tex">\sum _{n=1}^\infty \frac{1}{n^2}</script> exists and estimate its sum to within 0.01. As this series is the <script type="math/tex">p</script>-series for <script type="math/tex">p=2</script>, we already proved it converges (let us pretend we do not know that), but we only roughly estimated its sum. 
</p>
<p>
The fundamental theorem of calculus says that for all <script type="math/tex">k \in {\mathbb {N}}</script>, 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{k}^\infty \frac{1}{x^2}~ dx = \frac{1}{k} . \end{equation*}</script></span>
<p>
 In particular, the series must converge. But we also have 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{1}{k} = \int _ k^\infty \frac{1}{x^2}~ dx \leq \sum _{n=k}^\infty \frac{1}{n^2} \leq \frac{1}{k^2} + \int _ k^\infty \frac{1}{x^2}~ dx = \frac{1}{k^2} + \frac{1}{k} . \end{equation*}</script></span>
<p>
 Adding the partial sum up to <script type="math/tex">k-1</script> we get 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \frac{1}{k} + \sum _{n=1}^{k-1} \frac{1}{n^2} \leq \sum _{n=1}^\infty \frac{1}{n^2} \leq \frac{1}{k^2} + \frac{1}{k} + \sum _{n=1}^{k-1} \frac{1}{n^2} . \end{equation*}</script></span>
<p>
 In other words, <script type="math/tex">\frac{1}{k} + \sum _{n=1}^{k-1} \frac{1}{n^2}</script> is an estimate for the sum to within <script type="math/tex">\frac{1}{k^2}</script>. Therefore, if we wish to find the sum to within 0.01, we note <script type="math/tex">\frac{1}{{10}^2} = 0.01</script>. We obtain 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  1.6397\ldots \approx \frac{1}{10} + \sum _{n=1}^{9} \frac{1}{n^2} \leq \sum _{n=1}^\infty \frac{1}{n^2} \leq \frac{1}{100} + \frac{1}{10} + \sum _{n=1}^{9} \frac{1}{n^2} \approx 1.6497\ldots . \end{equation*}</script></span>
<p>
 The actual sum is <script type="math/tex">\frac{\pi ^2}{6} \approx 1.6449\ldots </script>. 
</p>
</div>
</div>
</p>
</section><section class="subsection">
<h3 id="a0000001155">5.5.2 Exercises</h3>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001156">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.55</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Finish the proof of <a href="#.">Proposition <span>5.40</span></a>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001157">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.56</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Find out for which <script type="math/tex">a \in {\mathbb {R}}</script> does <script type="math/tex">\sum \limits _{n=1}^\infty e^{an}</script> converge. When the series converges, find an upper bound for the sum. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001158">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.57</span>
</div>
<div class="thmcontent exercise_thmcontent">
<ol class="enumerate" id="a0000001159" style="list-style: none">
<li id="a0000001160" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Estimate <script type="math/tex">\sum \limits _{n=1}^\infty \frac{1}{n(n+1)}</script> correct to within 0.01 using the integral test. 
</p>
</li>
<li id="a0000001161" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Compute the limit of the series exactly and compare. Hint: The sum telescopes. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001162">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.58</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Prove 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-\infty }^\infty \left\lvert {\operatorname {sinc}(x)} \right\rvert ~ dx = \infty . \end{equation*}</script></span>
<p>
 Hint: Again, it is enough to show this on just one side. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001163">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.59</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Can you interpret 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \int _{-1}^1 \frac{1}{\sqrt{\left\lvert {x} \right\rvert }}~ dx \end{equation*}</script></span>
<p>
 as an improper integral? If so, compute its value. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001164">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.60</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Take <script type="math/tex">f \colon [0,\infty ) \to {\mathbb {R}}</script>, Riemann integrable on every interval <script type="math/tex">[0,b]</script>, and such that there exist <script type="math/tex">M</script>, <script type="math/tex">a</script>, and <script type="math/tex">T</script>, such that <script type="math/tex">\left\lvert {f(t)} \right\rvert  \leq M e^{at}</script> for all <script type="math/tex">t \geq T</script>. Show that the <em>Laplace transform</em> of <script type="math/tex">f</script> exists. That is, for every <script type="math/tex">s > a</script> the following integral converges: 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F(s) := \int _{0}^\infty f(t) e^{-st} ~ dt . \end{equation*}</script></span>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001165">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.61</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon {\mathbb {R}}\to {\mathbb {R}}</script> be a Riemann integrable function on every interval <script type="math/tex">[a,b]</script>, and such that <script type="math/tex">\int _{-\infty }^\infty \left\lvert {f(x)} \right\rvert ~ dx < \infty </script>. Show that the <em>Fourier sine and cosine transforms</em> exist. That is, for every <script type="math/tex">\omega \geq 0</script> the following integrals converge 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  F^ s(\omega ) := \frac{1}{\pi } \int _{-\infty }^\infty f(t) \sin (\omega t) ~ dt , \qquad F^ c(\omega ) := \frac{1}{\pi } \int _{-\infty }^\infty f(t) \cos (\omega t) ~ dt . \end{equation*}</script></span>
<p>
 Furthermore, show that <script type="math/tex">F^ s</script> and <script type="math/tex">F^ c</script> are bounded functions. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001166">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.62</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [0,\infty ) \to {\mathbb {R}}</script> is Riemann integrable on every interval <script type="math/tex">[0,b]</script>. Show that <script type="math/tex">\int _0^\infty f</script> converges if and only if for every <script type="math/tex">\epsilon > 0</script> there exists an <script type="math/tex">M</script> such that if <script type="math/tex">M \leq a < b</script>, then <script type="math/tex">\bigl \lvert {\int _ a^ b f} \bigr \rvert  < \epsilon </script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001167">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.63</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [0,\infty ) \to {\mathbb {R}}</script> is nonnegative and <em>decreasing</em>. Prove: 
</p>
<ol class="enumerate" id="a0000001168" style="list-style: none">
<li id="a0000001169" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
If <script type="math/tex">\int _0^\infty f < \infty </script>, then <script type="math/tex">\lim \limits _{x\to \infty } f(x) = 0</script>. 
</p>
</li>
<li id="a0000001170" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
The converse does not hold. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001171">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.64</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Find an example of an <em>unbounded</em> continuous function <script type="math/tex">f \colon [0,\infty ) \to {\mathbb {R}}</script> that is nonnegative and such that <script type="math/tex">\int _0^\infty f < \infty </script>. Note that <script type="math/tex">\lim _{x\to \infty } f(x)</script> will not exist; compare previous exercise. Hint: On each interval <script type="math/tex">[k,k+1]</script>, <script type="math/tex">k \in {\mathbb {N}}</script>, define a function whose integral over this interval is less than say <script type="math/tex">2^{-k}</script>. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001172">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.65</span>
<span class="thmtitle exercise_thmtitle">(More challenging)</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
 Find an example of a function <script type="math/tex">f \colon [0,\infty ) \to {\mathbb {R}}</script> integrable on all intervals such that <script type="math/tex">\lim _{n\to \infty } \int _0^ n f</script> converges as a limit of a sequence (so <script type="math/tex">n \in {\mathbb {N}}</script>), but such that <script type="math/tex">\int _0^\infty f</script> does not exist. Hint: For all <script type="math/tex">n\in {\mathbb {N}}</script>, divide <script type="math/tex">[n,n+1]</script> into two halves. On one half make the function negative, on the other make the function positive. 
</p>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001173">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.66</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Suppose <script type="math/tex">f \colon [1,\infty ) \to {\mathbb {R}}</script> is such that <script type="math/tex">g(x) := x^2 f(x)</script> is a bounded function. Prove that <script type="math/tex">\int _1^\infty f</script> converges. 
</p>
</div>
</div>
</p>
<p>
<small class="small"> It is sometimes desirable to assign a value to integrals that normally cannot be interpreted even as improper integrals, e.g. <script type="math/tex">\int _{-1}^1 \frac{1}{x}~ dx</script>. Suppose <script type="math/tex">f \colon [a,b] \to {\mathbb {R}}</script> is a function and <script type="math/tex">a < c < b</script>, where <script type="math/tex">f</script> is Riemann integrable on the intervals <script type="math/tex">[a,c-\epsilon ]</script> and <script type="math/tex">[c+\epsilon ,b]</script> for all <script type="math/tex">\epsilon > 0</script>. Define the <em>Cauchy principal value</em> of <script type="math/tex">\int _ a^ b f</script> as <span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  p.v.\! \int _ a^ b f := \lim _{\epsilon \to 0^+} \left( \int _ a^{c-\epsilon } f + \int _{c+\epsilon }^ b f \right) , \end{equation*}</script></span> if the limit exists. </small>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001174">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.67</span>
</div>
<div class="thmcontent exercise_thmcontent">
<ol class="enumerate" id="a0000001175" style="list-style: none">
<li id="a0000001176" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Compute <script type="math/tex">p.v.\! \int _{-1}^1 \frac{1}{x}~ dx</script>. 
</p>
</li>
<li id="a0000001177" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Compute <script type="math/tex">\lim _{\epsilon \to 0^+} ( \int _{-1}^{-\epsilon } \frac{1}{x}~ dx + \int _{2\epsilon }^1 \frac{1}{x}~ dx )</script> and show it is not equal to the principal value. 
</p>
</li>
<li id="a0000001178" value="3">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		c)
	</span>
<p>
Show that if <script type="math/tex">f</script> is integrable on <script type="math/tex">[a,b]</script>, then <script type="math/tex">p.v.\! \int _ a^ b f = \int _ a^ b f</script> (for an arbitrary <script type="math/tex">c \in (a,b)</script>). 
</p>
</li>
<li id="a0000001179" value="4">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		d)
	</span>
<p>
Suppose <script type="math/tex">f \colon [-1,1] \to {\mathbb {R}}</script> is an odd function (<script type="math/tex">f(-x)=-f(x)</script>) that is integrable on <script type="math/tex">[-1,-\epsilon ]</script> and <script type="math/tex">[\epsilon ,1]</script> for all <script type="math/tex">\epsilon >0</script>. Prove that <script type="math/tex">p.v.\! \int _{-1}^1 f = 0</script>
</p>
</li>
<li id="a0000001180" value="5">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		e)
	</span>
<p>
Suppose <script type="math/tex">f \colon [-1,1] \to {\mathbb {R}}</script> is continuous and differentiable at 0. Show that <script type="math/tex">p.v.\! \int _{-1}^1 \frac{f(x)}{x}~ dx</script> exists. 
</p>
</li>
</ol>
</div>
</div>
</p>
<p>
<div class="thmwrapper exercise_thmwrapper" id="a0000001181">
<div class="thmheading exercise_thmheading">
<span class="thmcaption exercise_thmcaption">
    Exercise
    </span>
<span class="thmlabel exercise_thmlabel">5.68</span>
</div>
<div class="thmcontent exercise_thmcontent">
<p>
Let <script type="math/tex">f \colon {\mathbb {R}}\to {\mathbb {R}}</script> and <script type="math/tex">g \colon {\mathbb {R}}\to {\mathbb {R}}</script> be continuous functions, where <script type="math/tex">g(x) = 0</script> for all <script type="math/tex">x \notin [a,b]</script> for some interval <script type="math/tex">[a,b]</script>. 
</p>
<ol class="enumerate" id="a0000001182" style="list-style: none">
<li id="a0000001183" value="1">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		a)
	</span>
<p>
Show that the <em>convolution</em>
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  (g * f)(x) := \int _{-\infty }^\infty f(t)g(x-t)~ dt \end{equation*}</script></span>
<p>
 is well-defined for all <script type="math/tex">x \in {\mathbb {R}}</script>. 
</p>
</li>
<li id="a0000001184" value="2">
<span style="transform: translateX(-100%);padding-right: 10px;position: absolute;">
		b)
	</span>
<p>
Suppose <script type="math/tex">\int _{-\infty }^\infty \left\lvert {f(x)} \right\rvert ~ dx < \infty </script>. Prove that 
</p>
<span class="dmath"><script type="math/tex; mode=display">\begin{equation*}  \lim _{x \to -\infty } (g * f)(x) = 0, \qquad \text{and} \qquad \lim _{x \to \infty } (g * f)(x) = 0 . \end{equation*}</script></span>
</li>
</ol>
</div>
</div>
</p>
<p>
<br/>
</p>
</section>
</section><section class="section bibliography">
<h2 id="a0000001185">References</h2>
<ul class="bibliography">
<li id="BS" style="list-style: none"> <div class="bibcite">[1]</div> <p>
Robert G. Bartle and Donald R. Sherbert. <em>Introduction to Real Analysis</em>. John Wiley &amp; Sons Inc., 3 edition, 2000. 
</p>
</li>
<li id="Rudin:baby" style="list-style: none"> <div class="bibcite">[2]</div> <p>
Walter Rudin. <em>Principles of Mathematical Analysis</em>. McGraw-Hill Book Co., 3 edition, 1976. International Series in Pure and Applied Mathematics. 
</p>
</li>
</ul>
</section>
<hr/>
<ol>
<li id="a0000000971">Named after the German mathematician <a href="https://en.wikipedia.org/wiki/Riemann">Georg Friedrich Bernhard Riemann</a> (1826–1866).</li>
<li id="a0000000972">Named after the French mathematician <a href="https://en.wikipedia.org/wiki/Darboux">Jean-Gaston Darboux</a> (1842–1917).</li>
<li id="a0000001044">Such an <script type="math/tex">h</script> is said to be of <em>bounded variation</em>.</li>
<li id="a0000001066"> Compare this hypothesis to <a href="#.">Exercise <span>4.24</span></a>.</li>
<li id="a0000001095"><script type="math/tex">E</script> is a function into <script type="math/tex">(0,\infty )</script> after all. However, <script type="math/tex">E(-x) \neq 0</script> also follows from <script type="math/tex">E(x)E(-x) = 1</script>. Therefore, we can prove uniqueness of <script type="math/tex">E</script> given <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:i">1</a> and <a class="ref" href="../introduction_to_real/int-chapter.html#it:exp:ii">2</a>, even for functions <script type="math/tex">E \colon {\mathbb {R}}\to {\mathbb {R}}</script>.</li>
<li id="a0000001116">Named for the Swiss mathematician <a href="https://en.wikipedia.org/wiki/Leonhard_Euler">Leonhard Paul Euler</a> (1707–1783) and the Italian mathematician <a href="https://en.wikipedia.org/wiki/Lorenzo_Mascheroni">Lorenzo Mascheroni</a> (1750–1800).</li>
<li id="a0000001149">Shortened from Latin: <em>sinus cardinalis</em></li>
</ol>

            </div>
        </div>
    </div>

        </main>
		
		<footer class="text-muted">
	<hr>
	<div class="container">
		<div class="float-right">
			<ul style="list-style: none">
			<li><a href="#">Back to top</a></li>
			
			
			<li><a href="../introduction_to_real/pdf/the_riemann_integral.pdf" target="_blank"><i class="fa fa-file-pdf-o"></i>&nbsp;Download as PDF</a></li>
			
			</ul>
		</div>
		<p>Generated using <a target="_blank" href="https://github.com/chirun-ncl/chirun">Chirun</a>, written by the E-Learning Unit, School of Mathematics &amp; Statistics, Newcastle University</p>
		<p>This page last generated: 2021-12-02</p>
	</div>
</footer>
		
    </body>
</html>
